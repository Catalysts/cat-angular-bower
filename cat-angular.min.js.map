{"version":3,"sources":["module.js","controller/cat-base-detail-controller.js","controller/cat-base-list-controller.js","controller/cat-base-tabs-controller.js","directives/cat-autofocus.js","directives/cat-select.js","directives/cat-sortable.js","service/cat-api-service.js","service/cat-breadcrumbs-service.js","service/cat-i18n-locale-service.js","service/cat-i18n-message-source-service.js","service/cat-i18n-service.js","service/cat-route-service.js","service/cat-select-config-service.js","service/cat-view-service.js","service/http-interceptor.js","service/main-menu-service.js","service/message-service.js","base/Facet.js","base/SearchRequest.js","directives/cat-checkbox.js","directives/cat-confirm-click.js","directives/cat-facets.js","directives/cat-field-errors.js","directives/cat-i18n.js","directives/cat-inputs.js","directives/cat-load-more.js","directives/cat-main-menu.js","directives/cat-paginated.js","directives/form.js","directives/numbers-only.js","filters/cat-replacetext.js","i18n/cat-i18n-translations_de.js","i18n/cat-i18n-translations_en.js","service/cat-list-data-loading-service.js","service/loading-service.js","util/cat-naming-util.js","util/cat-route-util.js"],"names":[],"mappings":"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","file":"cat-angular.min.js","sourcesContent":["window.cat = {};\n\nangular.module('cat.controller.base.list', []);\nangular.module('cat.controller.base.tabs', []);\nangular.module('cat.controller.base.detail', ['cat.controller.base.tabs']);\nangular.module('cat.controller', ['cat.controller.base.detail', 'cat.controller.base.list']);\n\nangular.module('cat.template', ['ui.bootstrap.tpls']);\n\nangular.module('cat.service.api', []);\nangular.module('cat.service.i18n', []);\nangular.module('cat.service', ['angularSpinner', 'ngRoute', 'cat.service.api', 'cat.service.i18n']);\n\nangular.module('cat.directives.i18n', ['cat.service.i18n']);\nangular.module('cat.directives', ['cat.directives.i18n', 'ui.select2', 'ui.bootstrap.pagination']);\n\nangular.module('cat', [\n    'cat.service',\n    'cat.template',\n    'cat.directives',\n    'cat.controller'\n]);\n","\n\n/**\n * @ngdoc function\n *\n * @description\n * The CatBaseDetailController takes care of providing several common properties and functions to the scope\n * of every detail page. It also instantiates the controller given via the config.controller parameter and shares\n * the same scope with it.\n *\n * Common properties include:\n * * detail - the actual object to view\n * * editDetail - a copy of the detail object used for editing\n * * breadcrumbs - the breadcrumbs array\n * * uiStack - the ui stack array if parents exist\n * * editTemplate - the url of the edit template\n * * mainViewTemplate - the url of the main view template\n * * additionalViewTemplate - the url of the additional view template if it exists\n * * $fieldErrors - a map of validation errors returned by the server\n *\n * Common functions include:\n * * save - the save function to update / create an object\n * * edit - a function to switch from view to edit mode\n * * cancelEdit - a function to switch from edit to view mode (discarding all changes)\n * * add - a function to switch into edit mode of a new object\n * * remove - a function to delete the current object\n * * title - a function to resolve a 'title' of the current object\n *\n * @param $scope\n * @param $routeParams\n * @param $location\n * @param $window\n * @param $globalMessages\n * @param $controller\n * @param $log\n * @param catBreadcrumbsService\n * @param {Object} config holds data like the current api endpoint, template urls, base url, the model constructor, etc.\n * @constructor\n */\nfunction CatBaseDetailController($scope, $routeParams, $location, $window, $globalMessages, $controller, $log, catBreadcrumbsService, config) {\n    $scope.detail = config.detail;\n    $scope.editDetail = undefined;\n    $scope.$fieldErrors = {};\n\n    var endpoint = config.endpoint;\n    var baseUrl = config.baseUrl;\n    var templateUrls = config.templateUrls;\n    var Model = config.Model;\n\n    $scope.uiStack = catBreadcrumbsService.generateFromConfig(config);\n\n    if ($routeParams.id === 'new') {\n        catBreadcrumbsService.push({\n            title: 'New',\n            key: 'cc.catalysts.general.new'\n        });\n    } else {\n        catBreadcrumbsService.push({});\n    }\n\n    $scope.editTemplate = templateUrls.edit;\n\n    if (_.isObject(templateUrls.view)) {\n        $scope.mainViewTemplate = templateUrls.view.main;\n        $scope.additionalViewTemplate = templateUrls.view.additional;\n    } else {\n        $scope.mainViewTemplate = templateUrls.view;\n    }\n\n    $scope.baseUrl = baseUrl;\n\n    /**\n     * @returns {String|Number} A title of the current object or the 'id' as fallback\n     */\n    $scope.title = function () {\n        var data = $scope.detail;\n        if (_.isUndefined(data)) {\n            return '';\n        }\n        return !!data.breadcrumbTitle ? data.breadcrumbTitle() : (!!data.name ? data.name : data.id);\n    };\n\n    var update = function () {\n        catBreadcrumbsService.replaceLast({\n            title: $scope.title()\n        });\n    };\n\n    /**\n     * reloads the current object from the server\n     */\n    var reload = function () {\n        endpoint.get($routeParams.id).then(function (data) {\n            $scope.detail = data;\n            update();\n        });\n    };\n\n    $scope.reloadDetails = reload;\n\n    $scope.exists = !!$routeParams.id && $routeParams.id !== 'new';\n\n    /**\n     * Creates a new copy of the given model and sets its parent if applicable.\n     * Triggers a switch into the edit mode\n     */\n    $scope.add = function () {\n        $scope.editDetail = new Model();\n        if (_.isFunction($scope.editDetail.setParent)) {\n            $scope.editDetail.setParent(config.parents[0]);\n        }\n    };\n\n    /**\n     * Creates a copy of the current object and triggers a switch into edit mode\n     */\n    $scope.edit = function () {\n        $scope.editDetail = angular.copy($scope.detail);\n        if (_.isFunction($scope.editDetail.setParent)) {\n            $scope.editDetail.setParent(config.parents[0]);\n        }\n    };\n\n    /**\n     * Either cancels the current edit of an object by resetting it or triggers a history back event if the 'new' mode\n     * is active\n     */\n    $scope.cancelEdit = function () {\n        $scope.$broadcast('formReset');\n        if ($scope.exists) {\n            $scope.editDetail = undefined;\n            $globalMessages.clearMessages();\n            $scope.$fieldErrors = undefined;\n        } else {\n            $window.history.back();\n        }\n    };\n\n    /**\n     * Calls the remove function of the current endpoint and redirects to the given baseUrl upon success\n     */\n    $scope.remove = function () {\n        endpoint.remove($scope.detail.id).then(function () {\n            if (_.isEmpty($scope.uiStack)) {\n                $location.path(baseUrl);\n            } else {\n                var parentUrl = $scope.uiStack[$scope.uiStack.length - 1].url;\n                $location.path(parentUrl.substring(1, parentUrl.indexOf('?')));\n                $location.search('tab', endpoint.getEndpointName());\n            }\n        });\n    };\n\n    /**\n     * Calls the save function of the current endpoint.\n     * Upon success the view mode of the details of the currently created / updated object will be shown.\n     * Upon an error the reported errors (global & field errors) will be shown to the user and the edit mode\n     * will remain active.\n     */\n    $scope.save = function () {\n        endpoint.save($scope.editDetail).then(function (data) {\n            $globalMessages.clearMessages();\n            $scope.$fieldErrors = undefined;\n            if (!$scope.exists) {\n                $scope.$broadcast('formReset');\n                $location.path(baseUrl + '/' + data.id);\n            } else {\n                $scope.editDetail = undefined;\n                $scope.detail = data;\n                update();\n            }\n        }, function (response) {\n            if (!response.data.fieldErrors) {\n                $scope.$fieldErrors = undefined;\n                return;\n            }\n            // group by field\n            var fieldErrors = {};\n            _.forEach(response.data.fieldErrors, function (fieldError) {\n                fieldErrors[fieldError.field] = fieldErrors[fieldError.field] || [];\n                fieldErrors[fieldError.field].push(fieldError.message);\n            });\n\n            $scope.$fieldErrors = fieldErrors;\n            $scope.$broadcast('fieldErrors', fieldErrors);\n        });\n    };\n\n    if ($scope.exists) {\n        if (_.isUndefined($scope.detail)) {\n            reload();\n        } else {\n            update();\n        }\n    } else {\n        if (_.isUndefined($scope.detail)) {\n            $scope.add();\n        } else {\n            $scope.edit();\n        }\n    }\n\n\n    // TABS\n    $scope.baseTabsController = ['$scope', function ($tabsScope) {\n        $controller('CatBaseTabsController', {\n            $scope: $tabsScope,\n            config: config\n        });\n    }];\n\n    try {\n        // extend with custom controller\n        $controller(config.controller, {\n            $scope: $scope,\n            detail: config.detail,\n            parents: config.parents,\n            config: config\n        });\n    } catch (unused) {\n        $log.info('Couldn\\'t instantiate controller with name ' + config.controller);\n    }\n}\n\nangular.module('cat.controller.base.detail').controller('CatBaseDetailController', CatBaseDetailController);","\n\n/**\n * @ngdoc function\n * @name CatBaseListController\n * @controller\n *\n * @description\n * The CatBaseListController takes care of providing several common properties to the scope\n * of every list page. It also instantiates the controller given via the config.controller parameter and shares\n * the same scope with it. In addition it has a common template 'cat-base-list.tpl.html' which shows a title,\n * new button and provides the cat-paginated directive.\n *\n * Common properties include:\n * * listData - the listData to be used by cat-paginated\n * * title - the title of the view\n * * searchProps - the list of search properties passed on to the cat-paginated directive\n * * config - the config object used to instantiate this view\n *\n * @param $scope\n * @param $controller\n * @param $log\n * @param catBreadcrumbsService\n * @param {Object} config holds data like the listData object, the template url, base url, the model constructor, etc.\n * @constructor\n */\nfunction CatBaseListController($scope, $controller, $log, catBreadcrumbsService, config) {\n    if (!_.isUndefined(config.listData)) {\n        this.titleKey = 'cc.catalysts.cat-breadcrumbs.entry.' + config.listData.endpoint.getEndpointName();\n\n        catBreadcrumbsService.set([\n            {\n                title: config.title,\n                key: this.titleKey\n            }\n        ]);\n\n        $scope.listData = config.listData;\n    } else {\n        $log.warn('No listData available!');\n    }\n\n    this.title = config.title;\n    this.searchProps = config.searchProps;\n    this.config = config;\n\n    this.getUrlForId = function (id) {\n        return '#' + config.baseUrl + '/' + id;\n    };\n\n    this.getUrlForNewPage = function () {\n        return this.getUrlForId('new');\n    };\n\n\n    try {\n        // extend with custom controller\n        $controller(config.controller, {$scope: $scope, listData: config.listData, config: config});\n    } catch (unused) {\n        $log.info('Couldn\\'t instantiate controller with name ' + config.controller);\n    }\n}\n\nangular.module('cat.controller.base.list')\n    .controller('CatBaseListController',\n    ['$scope', '$controller', '$log', 'catBreadcrumbsService', 'config', CatBaseListController]);\n","\n\nfunction CatBaseTabsController($scope, $controller, $routeParams, $location, config) {\n    var endpoint = config.endpoint;\n\n    $scope.tabs = config.tabs;\n    $scope.tabNames = _.map(config.tabs, 'name');\n    $scope.activeTab = {};\n\n    $scope.activateTab = function (tab) {\n        $scope.$broadcast('tab-' + tab + '-active');\n        _.forEach($scope.tabs, function (currentTab) {\n            $scope.activeTab[currentTab.name] = false;\n        });\n        $scope.activeTab[tab] = true;\n    };\n\n    $scope.selectTab = function (tabName) {\n        $location.search('tab', tabName);\n    };\n\n    var isTabActive = function (tab) {\n        return $routeParams.tab === tab.name;\n    };\n\n    $scope.$watchCollection(function () {\n        return $location.search();\n    }, function (newValue) {\n        if (_.isString(newValue.tab)) {\n            $scope.activateTab(newValue.tab);\n        }\n    });\n\n    $scope.getTabName = function (tab) {\n        return window.cat.util.pluralize(window.cat.util.capitalize(tab));\n    };\n\n    _.forEach($scope.tabs, function (tab) {\n        $scope.activeTab[tab.name] = isTabActive(tab);\n    });\n\n    // TODO replace by url resolver service as soon as it is available\n    var parentUrl = endpoint.getEndpointName();\n    var parentTemplateNamePrefix = endpoint.getEndpointName();\n\n    var currentEndpoint = endpoint;\n\n    while (!_.isUndefined(currentEndpoint.parentEndpoint)) {\n        currentEndpoint = endpoint.parentEndpoint;\n        var parentEndpointName = currentEndpoint.getEndpointName();\n\n        parentUrl = parentEndpointName + '/' + parentUrl;\n\n        parentTemplateNamePrefix = parentEndpointName + '-' + parentTemplateNamePrefix;\n    }\n\n    $scope.getTabTemplate = function (tab) {\n        return parentUrl + '/' + tab + '/' + parentTemplateNamePrefix + '-' + tab + '-list.tpl.html';\n    };\n\n    var _getDefaultTabControllerName = function (tab) {\n        return window.cat.util.capitalize(endpoint.getEndpointName()) + window.cat.util.capitalize(tab.name) + 'Controller';\n    };\n\n    var _getTabControllerName = function (tab) {\n        if (!!tab.controller) {\n            return tab.controller;\n        }\n\n        return _getDefaultTabControllerName(tab);\n    };\n\n    var tabIndex = 0;\n\n    $scope.tabController = ['$scope', 'catListDataLoadingService', function ($tabScope, catListDataLoadingService) {\n        var activeTab = $scope.tabs[tabIndex++];\n        var tabControllerName = _getTabControllerName(activeTab);\n\n        $tabScope.getSearchRequest = function () {\n            return new window.cat.SearchRequest();\n        };\n\n        $tabScope.getEndpoint = function () {\n            return config.detail[activeTab.name];\n        };\n\n        $tabScope.loadListData = function () {\n            catListDataLoadingService.load($tabScope.getEndpoint(), $tabScope.getSearchRequest()).then(function (data) {\n                $tabScope.listData = data;\n            });\n        };\n\n        $tabScope.$on('tab-' + activeTab.name + '-active', function () {\n            if (_.isUndefined($scope.listData)) {\n                $tabScope.loadListData();\n            }\n        });\n\n        $controller(tabControllerName, {\n            $scope: $tabScope,\n            detail: config.detail,\n            parents: config.parents,\n            config: config\n        });\n\n        if ($scope.activeTab[activeTab.name] === true) {\n            $scope.activateTab(activeTab.name);\n        }\n    }];\n}\n\nangular.module('cat.controller.base.tabs').controller('CatBaseTabsController', CatBaseTabsController);","\nangular.module('cat')\n    .directive('catAutofocus', function CatAutofocusDirective($timeout) {\n        return {\n            restrict: 'A',\n            link: function CatAutofocusLink(scope, element) {\n                $timeout(function () {\n                    if (!_.isUndefined(element.data('select2'))) {\n                        element.select2('open');\n                    } else {\n                        element[0].focus();\n                    }\n                }, 100);\n            }\n        };\n    });\n","\n\nfunction CatSelectLink(scope, element) {\n    element.addClass('form-control');\n}\n\nvar fetchElements = function (endpoint, sort) {\n    return function (queryParams) {\n        var searchRequest = new window.cat.SearchRequest(queryParams.data);\n        searchRequest.sort(sort || { property: 'name', isDesc: false });\n        return endpoint.list(searchRequest).then(queryParams.success);\n    };\n};\n\nfunction CatSelectController($scope, $log, catApiService, catSelectConfigService) {\n\n    var options = catSelectConfigService.getConfig($scope.config, $scope.options);\n\n    if (_.isUndefined(options)) {\n        throw new Error('At least one of \"config\" or \"options\" has to be specified');\n    }\n\n    var transport,\n        quietMillis,\n        searchRequestFunc = options.search || function (term, page) {\n            return {\n                'search.name': term,\n                page: page\n            };\n        },\n        filterFunc = options.filter || function (term) {\n            return true;\n        };\n    if (_.isArray(options.endpoint)) {\n        transport = function (queryParams) {\n            return queryParams.success({\n                elements: options.endpoint\n            });\n        };\n        quietMillis = 0;\n    } else if (_.isFunction(options.endpoint)) {\n        transport = options.endpoint;\n        quietMillis = 500;\n    } else if (_.isObject(options.endpoint)) {\n        transport = fetchElements(options.endpoint, options.sort);\n        quietMillis = 500;\n    } else if (_.isString(options.endpoint)) {\n        var api = catApiService[options.endpoint];\n        if (!api) {\n            $log.error('No api endpoint \"' + options.endpoint + '\" defined');\n            $scope.elements = [];\n            return;\n        }\n        transport = fetchElements(api, options.sort);\n        quietMillis = 500;\n    } else {\n        $log.error('The given endpoint has to be one of the following types: array, object, string or function - but was ' + (typeof options.endpoint));\n        $scope.elements = [];\n        return;\n    }\n\n    $scope.selectOptions = _.assign({\n        placeholder: ' ', // space in default placeholder is required, otherwise allowClear property does not work\n        minimumInputLength: 0,\n        adaptDropdownCssClass: function (cssClass) {\n            if (_.contains(['ng-valid', 'ng-invalid', 'ng-pristine', 'ng-dirty'], cssClass)) {\n                return cssClass;\n            }\n            return null;\n        },\n        ajax: {\n            data: searchRequestFunc,\n            quietMillis: quietMillis,\n            transport: transport,\n            results: function (data, page) {\n                var more = (page * options.size || 100) < data.totalCount;\n                return {\n                    results: _.filter(data.elements, filterFunc),\n                    more: more\n                };\n            }\n        },\n        formatResult: function (element) {\n            return element.name;\n        },\n        formatSelection: function (element) {\n            return element.name;\n        }\n    }, options['ui-select2']);\n}\n\n/**\n * @ngdoc directive\n * @scope\n * @restrict EA\n * @description\n *\n * The 'cat-select' directive is a wrapper around the 'ui-select2' directive which adds support for using an api\n * endpoint provided by catApiService. There exist 2 supported ways of configuration:\n * - The 'config' attribute: This represents a named configuration which will be retrieved from the catSelectConfigService\n * - The 'options' attribute: Here the options object can directly be passed in\n *\n * The 2 different approaches exist to easily reuse certain options, as the named config is seen as 'default' and all\n * values which are provided via the options object will be overridden.\n *\n * An config / options object has the following properties:\n * - endpoint: This can either be an array, in which case it will directly be treated as the source, an endpoint name\n * or an endpoint object to call the given endpoint, or a function which is used as the 'transport' function\n * - sort: An object which defines the 'sort' property and direction used when retrieving the list from an endpoint\n * - ui-select2: An config object which supports all options provided by the 'ui-select2' directive\n *\n *\n * @returns {{\n *      restrict: string,\n *      replace: boolean,\n *      priority: number,\n *      scope: {\n *          options: string,\n *          id: string,\n *          config: string\n *      },\n *      link: CatSelectLink,\n *      controller: CatSelectController,\n *      template: string\n * }}\n * @constructor\n */\nfunction CatSelectDirective() {\n    return {\n        restrict: 'EA',\n        replace: true,\n        priority: 1,\n        scope: {\n            options: '=?',\n            id: '@',\n            config: '@?'\n        },\n        link: CatSelectLink,\n        controller: CatSelectController,\n        template: '<input type=\"text\" ui-select2=\"selectOptions\">'\n    };\n}\n\nangular.module('cat.directives')\n    .directive('catSelect', CatSelectDirective);\n","\nangular.module('cat')\n    .directive('catSortable', function CatSortableDirective($compile) {\n        return {\n            restrict: 'AC',\n            require: '^catPaginated',\n            link: function CatSortableLink(scope, element, attrs, catPaginatedController) {\n                var title = element.text();\n                var property = attrs.catSortable || title.toLowerCase().trim();\n\n                // todo - make configurable\n                scope.sort = scope.listData.searchRequest.sort();\n                scope.catPaginatedController = catPaginatedController;\n                var icon = 'glyphicon-sort-by-attributes';\n\n                if (!!attrs.sortMode) {\n                    if (attrs.sortMode === 'numeric') {\n                        icon = 'glyphicon-sort-by-order';\n                    } else if (attrs.sortMode === 'alphabet') {\n                        icon = 'glyphicon-sort-by-alphabet';\n                    }\n                }\n\n                element.text('');\n                element.append($compile('<a class=\"sort-link\" href=\"\" ng-click=\"toggleSort(\\'' + property + '\\')\" cat-i18n=\"cc.catalysts.cat-sortable.sort.' + property + '\">' + title + ' <span class=\"glyphicon\" ng-class=\"{\\'' + icon + '\\': sort.property == \\'' + property + '\\' && !sort.isDesc, \\'' + icon + '-alt\\': sort.property == \\'' + property + '\\' && sort.isDesc}\"></span></a>')(scope));\n            },\n            controller: function CatSortableController($scope) {\n                $scope.toggleSort = function (property) {\n                    if ($scope.sort.property === property) {\n                        $scope.sort.isDesc = !$scope.sort.isDesc;\n                    } else {\n                        $scope.sort.property = property;\n                        $scope.sort.isDesc = false;\n                    }\n\n                    $scope.catPaginatedController.sort($scope.sort);\n                };\n\n                $scope.$on('SortChanged', function (event, value) {\n                    $scope.sort = value;\n                });\n            }\n        };\n    });","\n\n/**\n * A CatApiEndpoint wraps several helper functions to easily execute backend calls for the base CRUD operations.\n * It also adds support for 'children' which can only be used by resolving them for a parent id.\n * @param {string} url the base url which is added before the configured urls\n * @param {object} endpointConfig the configuration of this endpoint - holds properties like name, url, the model and children\n * @param {object} $http the angular $http service which handles the actual xhr requests\n * @constructor\n */\nfunction CatApiEndpoint(url, endpointConfig, $http) {\n    var that = this;\n\n    var _endpointName = endpointConfig.name;\n    var _endpointUrl = url + (endpointConfig.config.url || endpointConfig.name);\n    var ModelClass = endpointConfig.config.model;\n    var _childEndpointSettings = endpointConfig.children;\n\n    /**\n     * This helper function initializes all configured child endpoints by creating the appropriate url by appending\n     * the given id before initializing them.\n     * @return {object} a object holding all resolved child endpoints for the given id\n     * @private\n     */\n    var _res = _.memoize(function (id) {\n        var url = _endpointUrl + '/' + id + '/';\n        var ret = {};\n        _.forEach(_.keys(_childEndpointSettings), function (path) {\n            ret[path] = new CatApiEndpoint(url, _childEndpointSettings[path], $http);\n            ret[path].parentEndpoint = that;\n            ret[path].parentId = id;\n            ret[path].parentInfo = function () {\n                return that.info(id);\n            };\n        });\n        return ret;\n    });\n\n    /**\n     * This helper method initializes a new instance of the configured model with the given data and adds all child\n     * endpoints to it.\n     * @param data the data received from the backend which is used to initialize the model\n     * @return {Object} an instance of the configured model initialized with the given data and the resolved child\n     * endpoints\n     * @private\n     */\n    var _mapResponse = function (data) {\n        var object = new ModelClass(data);\n        return _.merge(object, _res(object.id));\n    };\n\n    /**\n     * This helper methods deletes all child endpoints from the given object.\n     * @param {object} object the object to remove the child endpoints from\n     * @return {object} the passed in object without the child endpoints\n     * @private\n     */\n    var _removeEndpoints = function (object) {\n        var endpoints = _res(object.id);\n        _.forEach(_.keys(endpoints), function (key) {\n            delete object[key];\n        });\n        return object;\n    };\n\n    /**\n     * This helper method turns a cat.SearchRequest in to en url encoded search query\n     * @param {window.cat.SearchRequest} [searchRequest] the search request which should be url encoded\n     * @return {string} either the url encoded search query or an empty string if no search request is given or it is not a instance of cat.SearchRequest\n     * @private\n     */\n    var _getSearchQuery = function (searchRequest) {\n        return !!searchRequest && searchRequest instanceof window.cat.SearchRequest ? '?' + searchRequest.urlEncoded() : '';\n    };\n\n    /**\n     * This method is used to instantiate actual child api endpoints which are dependent on a certain parent id\n     * @param id the id for which to 'resolve' the child endpoints.\n     * @return {object} a object which maps all child endpoint names to the actual endpoints where the url was resolved\n     * with the provided id\n     */\n    this.res = function (id) {\n        return _res(id);\n    };\n\n    /**\n     * A small helper function to retrieve the actual url this endpoint resolved to.\n     * @return {string} the resolved url of this endpoint\n     */\n    this.getEndpointUrl = function () {\n        return _endpointUrl;\n    };\n\n    /**\n     * A small helper to retrieve the name of the endpoint.\n     * @return {string} the name of this endpoint\n     */\n    this.getEndpointName = function () {\n        return _endpointName;\n    };\n\n    /**\n     * This function calls the url available via #getEndpointUrl without further modification apart from adding search\n     * parameters if the searchRequest parameter is provided. It can handle either an array response in which case all\n     * elements will be mapped to the appropriate configured model or a 'paginated' result in which case an object\n     * with totalCount, facests and elements will be returned.\n     *\n     * @param {SearchRequest} [searchRequest] if given searchRequest#urlEncoded() will be added to the request url\n     * @return {[{object}]|{totalCount: {Number}, facets: [{Facet}], elements: []}} a promise wrapping either a list of\n     * instances of the configured model or a wrapper object which holds not only the list but pagination information\n     * as well\n     */\n    this.list = function (searchRequest) {\n        return $http.get(_endpointUrl + _getSearchQuery(searchRequest)).then(function (response) {\n            if (!!response.data.totalCount || response.data.totalCount === 0) {\n                var facets = [];\n\n                if (!!response.data.facets) {\n                    facets = _.map(response.data.facets, function (facet) {\n                        return new window.cat.Facet(facet);\n                    });\n                }\n\n                var result = {\n                    totalCount: response.data.totalCount,\n                    facets: facets,\n                    elements: _.map(response.data.elements, function (elem) {\n                        return _mapResponse(elem);\n                    })\n                };\n\n                delete response.data.totalCount;\n                delete response.data.elements;\n                delete response.data.facets;\n\n                return _.assign(result, response.data);\n            } else {\n                return _.map(response.data, function (elem) {\n                    return _mapResponse(elem);\n                });\n            }\n        });\n    };\n\n    /**\n     * A helper function which adds '/all' to the request url available via #getEndpointUrl and maps the response to\n     * the configured model.\n     * @return [{object}] a promise wrapping an array of new instances of the configured model initialized with the data retrieved from\n     * the backend\n     */\n    this.all = function () {\n        return $http.get(_endpointUrl + '/all').then(function (response) {\n            return _.map(response.data, function (elem) {\n                return _mapResponse(elem);\n            });\n        });\n    };\n\n    /**\n     * This method makes a GET request to the url available via #getEndpointUrl with the addition of the provided id at the end.\n     * @param id the id which will be appended as '/:id' to the url\n     * @return {object} a promise wrapping a new instance of the configured model initialized with the data retrieved\n     * from the backend\n     */\n    this.get = function (id) {\n        return $http.get(_endpointUrl + '/' + id).then(function (response) {\n            return _mapResponse(response.data);\n        });\n    };\n\n\n    /**\n     * This method makes a GET the url available via #getEndpointUrl with the addition of the provided id at the end + the\n     * 'info' request parameter.\n     * @param id the id which will be appended as '/:id' to the url\n     * @return {*} a promise wrapping the data retrieved from the backend\n     */\n    this.info = function (id) {\n        return $http.get(_endpointUrl + '/' + id + '?info').then(function (response) {\n            return response.data;\n        });\n    };\n\n\n    /**\n     * This method is either makes a PUT or POST request to the backend depending on wheter or not the given object\n     * has an 'id' attribute.\n     * For PUT requests the url resolves to #getEndpointUrl + /:id, for POST requests it is just the #getEndpointUrl\n     * @param {object} object the object which should be sent to the sever. it is stripped of all child endpoints before\n     * it is sent.\n     * @return {object} a promise wrapping a new instance of the configured model initialized with the data retrieved\n     * from the backend\n     */\n    this.save = function (object) {\n        if (!!object.id) {\n            return $http.put(_endpointUrl + '/' + object.id, _removeEndpoints(object)).then(function (response) {\n                return _mapResponse(response.data);\n            });\n        } else {\n            return $http.post(_endpointUrl, _removeEndpoints(object)).then(function (response) {\n                return _mapResponse(response.data);\n            });\n        }\n    };\n\n    /**\n     * This method executes a DELETE request to the url available via #getEndpointUrl with the addition of the provided url at the end.\n     * @param url the url to be appended to the endpoint url - usually only the id of the object to delete\n     * @return {*} The promise returned by the $http 'DELETE' call\n     */\n    this.remove = function (url) {\n        return $http({method: 'DELETE', url: _endpointUrl + '/' + url});\n    };\n\n    /**\n     * Simple wrapper object which contains the custom get, put and post methods\n     * @type {{}}\n     */\n    this.custom = {};\n\n    /**\n     * This method executes a GET request to the url available via #getEndpointUrl joined with the provided one.\n     * Be aware that the result of the promise will not be mapped to the configured model but instead will be passed on directly.\n     * @param url the url to be appended to the endpoint url\n     * @param searchRequest an optional cat.SearchRequest to be applied to the request\n     * @return {*} The promise returned by the $http.get call\n     */\n    this.custom.get = function (url, searchRequest) {\n        return $http.get([_endpointUrl, url].join('/') + _getSearchQuery(searchRequest));\n    };\n\n    /**\n     * This method executes a POST request to the url available via #getEndpointUrl joined with the provided one.\n     * Be aware that the result of the promise will not be mapped to the configured model but instead will be passed on directly.\n     * @param url the url to be appended to the endpoint url\n     * @param object hte object to send as payload - not that it will be used as is for this request\n     * @return {*} The promise returned by the $http.post call\n     */\n    this.custom.post = function (url, object) {\n        return $http.post([_endpointUrl, url].join('/'), object);\n    };\n\n    /**\n     * This method executes a PUT request to the url available via #getEndpointUrl joined with the provided one.\n     * Be aware that the result of the promise will not be mapped to the configured model but instead will be passed on directly.\n     * @param url the url to be appended to the endpoint url\n     * @param object hte object to send as payload - not that it will be used as is for this request\n     * @return {*} The promise returned by the $http.put call\n     */\n    this.custom.put = function (url, object) {\n        return $http.put([_endpointUrl, url].join('/'), object);\n    };\n}\n\n/**\n * @description\n * An 'EndpointConfig' basically is a wrapper around the configuration for an api endpoint during the configuration\n * phase which is later used to instantiate the actual CatApiEndpoints. It exposes its name, the configuration itself,\n * as well as a map of all its children and helper function to create or receive child endpoint configurations.\n *\n * @param {string} name the name of the endpoint\n * @param {object} config the api endpoint configuration which basically wraps an 'url' and a 'model' attribute.\n * If a 'children' attribute is present as well it will be used to create the appropriate child endpoints automatically,\n * without the need to call the #child method manually - this works to arbitrary deps.\n * @constructor\n */\nfunction EndpointConfig(name, config) {\n    var that = this;\n    this.config = config || {};\n    this.children = {};\n    this.name = name;\n\n    /**\n     * This method method either returns or creates and returns a child api endpoint of the current one.\n     *\n     * @param {string} childName the name of the child endpoint\n     * @param {object} [childConfig] if given a new EndpointConfig will be created as a child of the current one. The\n     * parent property of the created config will point to the current config\n     * @return {EndpointConfig} the child endpoint config with the given name\n     */\n    this.child = function (childName, childConfig) {\n        if (!_.isUndefined(childConfig)) {\n            this.children[childName] = new EndpointConfig(childName, childConfig);\n            this.children[childName].parent = this;\n        }\n\n        return this.children[childName];\n    };\n\n    // this takes care of mapping the 'old' config style to the new builder style\n    if (!_.isUndefined(this.config.children)) {\n        var childrenConfig = this.config.children;\n        delete this.config.children;\n        _.forEach(_.keys(childrenConfig), function (childName) {\n            that.child(childName, childrenConfig[childName]);\n        });\n    }\n}\n\n// this is saved outside so that both $api and catApiService use the same config - will be moved back inside\n// CatApiServiceProvider in a future release\nvar _endpoints = {};\n\n/**\n * @ngdoc service\n * @description\n *\n * The CatApiServiceProvider exposes a single configuration method 'endpoint' which can be used to create or retrieve\n * named endpoint configurations.\n *\n * @constructor\n */\nfunction CatApiServiceProvider() {\n    var _urlPrefix = '/api/';\n\n    /**\n     * This method is used to either create or retrieve named endpoint configurations.\n     * @param {string} name the name of the api endpoint to create or retrieve the configuration for\n     * @param {object} [settings] if given a new {EndpointConfig} will be created with the given settings\n     * @return {EndpointConfig} the endpoint config for the given name\n     */\n    this.endpoint = function (name, settings) {\n        if (!_.isUndefined(settings)) {\n            _endpoints[name] = new EndpointConfig(name, settings);\n        }\n        return _endpoints[name];\n    };\n\n\n    this.$get = ['$http',\n        /**\n         * @return {object} returns a map from names to CatApiEndpoints\n         */\n            function $getCatApiService($http) {\n            var catApiService = {};\n\n            _.forEach(_.keys(_endpoints), function (path) {\n                catApiService[path] = new CatApiEndpoint(_urlPrefix, _endpoints[path], $http);\n            });\n\n            return catApiService;\n        }];\n}\nangular.module('cat.service.api').provider('catApiService', CatApiServiceProvider);\n// $api is deprecated, will be removed in a future release\nangular.module('cat.service.api').provider('$api', CatApiServiceProvider);\n","\n\n/**\n * @ngdoc service\n * @name catBreadcrumbService\n * @service\n *\n * @description\n *\n * This service is a simple wrapper around a list of Objects.\n * It provides some convenience methods for manipulating the list.\n * It's main purpose is to make breadcrumb handling less cumbersome.\n *\n * @constructor\n */\nfunction CatBreadcrumbsService() {\n    var _bc = [];\n    var that = this;\n\n    this.clear = function () {\n        _bc = [];\n    };\n\n    this.set = function (bc) {\n        _bc = bc;\n    };\n\n    this.get = function () {\n        return _bc;\n    };\n\n    this.addFirst = function (entry) {\n        _bc.unshift(entry);\n    };\n\n    this.removeFirst = function () {\n        return _bc.shift();\n    };\n\n    this.push = function (entry) {\n        _bc.push(entry);\n    };\n\n    this.pop = function () {\n        return _bc.pop();\n    };\n\n    this.length = function () {\n        return _bc.length;\n    };\n\n    function capitalize(string) {\n        return string.charAt(0).toUpperCase() + string.substring(1);\n    }\n\n    this.replaceLast = function (newVal) {\n        _bc[_bc.length - 1] = newVal;\n    };\n\n    function splitShiftAndJoin(path, amount) {\n        return _.initial(path.split('/'), amount).join('/');\n    }\n\n    /**\n     * This method auto-generates the breadcrumbs from a given view configuration\n     * @param {Object} config a config object as provided to CatBaseDetailController\n     * @return {Array} an array which represents the 'ui stack' of directly related parents\n     */\n    this.generateFromConfig = function (config) {\n        that.clear();\n        var uiStack = [];\n        if (!_.isUndefined(config.endpoint.parentEndpoint)) {\n            var currentEndpoint = config.endpoint;\n            var parentEndpoint = currentEndpoint.parentEndpoint;\n            var parentUrl = config.baseUrl;\n            var count = 0;\n\n            while (!_.isUndefined(parentEndpoint)) {\n                var parent = config.parents[count++];\n                parentUrl = splitShiftAndJoin(parentUrl, 1);\n\n                var detailBreadcrumb = {\n                    url: '#' + parentUrl + '?tab=' + currentEndpoint.getEndpointName(),\n                    title: parent.name\n                };\n                uiStack.unshift(detailBreadcrumb);\n                that.addFirst(detailBreadcrumb);\n\n                parentUrl = splitShiftAndJoin(parentUrl, 1);\n                var breadcrumb = {\n                    title: capitalize(window.cat.util.pluralize(parentEndpoint.getEndpointName())),\n                    key: 'cc.catalysts.cat-breadcrumbs.entry.' + config.endpoint.getEndpointName(),\n                    url: '#' + parentUrl\n                };\n                that.addFirst(breadcrumb);\n\n                currentEndpoint = parentEndpoint;\n                parentEndpoint = currentEndpoint.parentEndpoint;\n            }\n        } else {\n            that.push({\n                title: capitalize(window.cat.util.pluralize(config.endpoint.getEndpointName())),\n                key: 'cc.catalysts.cat-breadcrumbs.entry.' + config.endpoint.getEndpointName(),\n                url: '#' + config.baseUrl\n            });\n        }\n        return uiStack;\n    };\n}\n\nangular.module('cat.service').service('catBreadcrumbsService', CatBreadcrumbsService);\n\n// TODO remove in future release\nangular.module('cat.service').service('$breadcrumbs', CatBreadcrumbsService);","/**\n * Created by tscheinecker on 23.10.2014.\n */\n\n\nfunction CatI18nLocaleService($q, $locale, CAT_I18N_DEFAULT_LOCALE) {\n    this.getLanguageOfLocale = function (locale) {\n        if (_.isUndefined(locale)) {\n            return undefined;\n        }\n\n        if (locale.indexOf('-') !== -1) {\n            return locale.split('-')[0];\n        }\n\n        return locale;\n    };\n\n    this.getCurrentLocale = function () {\n        return $locale.id;\n    };\n\n    this.getDefaultLocale = function () {\n        return CAT_I18N_DEFAULT_LOCALE;\n    };\n}\n\nangular.module('cat.service.i18n')\n/**\n * @ngdoc constant\n * @name CAT_I18N_DEFAULT_LOCALE\n * @constant\n *\n * @description\n * The default locale used for message translation\n */\n    .constant('CAT_I18N_DEFAULT_LOCALE', 'de')\n    .service('catI18nLocaleService', ['$q', '$locale', 'CAT_I18N_DEFAULT_LOCALE', CatI18nLocaleService]);\n","/**\n * Created by tscheinecker on 23.10.2014.\n */\n\n\nfunction CatI18nMessageSourceService($q, catI18nLocaleService, CAT_I18N_DEFAULT_LOCALE) {\n    function _getLocale(locale) {\n        return locale || catI18nLocaleService.getDefaultLocale();\n    }\n\n    function _getMessages(locale) {\n        var localeId = _getLocale(locale);\n\n        var messages = window.cat.i18n[localeId];\n        if (_.isUndefined(messages)) {\n            messages = _getMessages(catI18nLocaleService.getLanguageOfLocale(localeId));\n        }\n        if (localeId !== CAT_I18N_DEFAULT_LOCALE && _.isUndefined(messages)) {\n            messages = _getMessages(CAT_I18N_DEFAULT_LOCALE);\n        }\n\n        return messages;\n    }\n\n    /**\n     * @ngdoc method\n     * @name catI18nMessageSourceService#getMessages\n     * @function\n     *\n     * @description\n     * Function which retrieves a message bundle for a given locale\n     *\n     * @param {String} [locale] the locale in which the messages should be retrieved\n     * @returns {Promise} a promise holding the retrieved message bundle\n     */\n    this.getMessages = function (locale) {\n        return $q.when(_getMessages(locale));\n    };\n\n    /**\n     * @ngdoc method\n     * @name catI18nMessageSourceService#getMessage\n     * @function\n     *\n     * @description\n     * Function which retrieves a message for a given key and locale\n     *\n     * @param {String} key the key of the message to retrieve\n     * @param {String} [locale = CAT_I18N_DEFAULT_LOCALE] the locale in which the messages should be retrieved\n     * @returns {Promise} a promise holding the retrieved message\n     */\n    this.getMessage = function (key, locale) {\n        var bundle = _getMessages(locale);\n        if (_.isUndefined(bundle) || _.isUndefined(bundle[key])) {\n            return $q.reject('No message found for key \\'' + key + '\\' and the given locale \\'' + _getLocale(locale) + '\\'');\n        }\n        return $q.when(bundle[key]);\n    };\n\n\n    /**\n     * @ngdoc method\n     * @name catI18nMessageSourceService#hasMessage\n     * @function\n     *\n     * @description\n     * Function which checks whether or not a message for a given key and locale exists\n     *\n     * @param {String} key the key of the message to retrieve\n     * @param {String} [locale = CAT_I18N_DEFAULT_LOCALE] the locale in which the messages should be available\n     * @returns {Promise} a promise holding <code>TRUE</code> if the key can be resolved for the given locale\n     */\n    this.hasMessage = function (key, locale) {\n        var bundle = _getMessages(locale);\n        return $q.when(!_.isUndefined(bundle) && !_.isUndefined(bundle[key]));\n    };\n}\n\nangular.module('cat.service.i18n')\n/**\n * @ngdoc service\n * @name catI18nMessageSourceService\n * @service\n *\n * @description\n * A service to retrieve message templates for a given key and locale\n *\n *\n * @param $q\n * @param $locale\n * @param CAT_I18N_DEFAULT_LOCALE\n * @constructor\n */\n    .service('catI18nMessageSourceService', ['$q', 'catI18nLocaleService', 'CAT_I18N_DEFAULT_LOCALE', CatI18nMessageSourceService]);\n","/**\n * Created by tscheinecker on 21.10.2014.\n */\n\n\nfunction CatI18nService($q, $log, catI18nMessageSourceService, catI18nMessageParameterResolver) {\n    var that = this;\n\n    /**\n     * @ngdoc method\n     * @name catI18nService#translate\n     * @function\n     *\n     * @description\n     * Tries to resolve the given key to a message of the given locale. The messages are retrieved from the\n     * {@link catI18nMessageSourceService} and then passed through {@link catI18nMessageParameterResolver}.\n     *\n     * @param {String} key the key of the message to be translated\n     * @param {Object|Array} [parameters] message parameters usable in the resolved message\n     * @param {String} [locale = CAT_I18N_DEFAULT_LOCALE] the locale to use for translation\n     * @returns {Promise} Returns a promise of the translated key\n     */\n    this.translate = function (key, parameters, locale) {\n        var deferred = $q.defer();\n        var model = parameters;\n\n        if (_.isArray(parameters)) {\n            parameters.forEach(function (value, idx) {\n                model['p' + idx] = value;\n            });\n        }\n\n        that.canTranslate(key, locale).then(\n            function (canTranslate) {\n                if (canTranslate) {\n                    catI18nMessageSourceService.getMessage(key, locale).then(\n                        function (message) {\n                            try {\n                                deferred.resolve(catI18nMessageParameterResolver(message, model));\n                            } catch (e) {\n                                $log.warn(e);\n                                deferred.reject(e);\n                            }\n                        },\n                        function (reason) {\n                            $log.warn(reason);\n                            deferred.reject(reason);\n                        }\n                    );\n                } else {\n                    var reason = 'No translation for key \\'' + key + '\\' available!';\n                    $log.warn(reason);\n                    deferred.reject(reason);\n                }\n            },\n            deferred.reject\n        );\n        return deferred.promise;\n    };\n\n    /**\n     * @ngdoc method\n     * @name catI18nService#canTranslate\n     * @function\n     *\n     * @description\n     * Wraps an object that might be a value or a (3rd party) then-able promise into a $q promise.\n     * This is useful when you are dealing with an object that might or might not be a promise, or if\n     * the promise comes from a source that can't be trusted.\n     *\n     * @param {String} key the key of the message to be translated\n     * @param {String} [locale] the locale to use for translation\n     * @returns {Promise} Returns a promise which resolves to true when a message for the given key exists for the\n     * specified locale\n     */\n    this.canTranslate = function (key, locale) {\n        var deferred = $q.defer();\n\n        catI18nMessageSourceService.getMessages(locale).then(\n            function (messages) {\n                deferred.resolve(!_.isUndefined(messages) && !_.isUndefined(messages[key]));\n            },\n            function (reason) {\n                $q.reject(reason);\n            }\n        );\n\n        return deferred.promise;\n    };\n}\n\nangular.module('cat.service.i18n')\n/**\n * @ngdoc value\n * @name catI18nMessageParameterResolver\n * @value\n *\n * @description\n * A function which accepts a message and parameters and returns the resolved message\n */\n    .value('catI18nMessageParameterResolver', function (message, parameters) {\n        return _.template(message, parameters || {}, {interpolate: /{{([\\s\\S\\d]+?)}}/g});\n    })\n\n\n/**\n * @ngdoc service\n * @name catI18nService\n * @service\n *\n * @description\n * A service to translate message keys to messages of specivic locales\n *\n *\n * @param $q\n * @param catI18nMessageSourceService\n * @param catI18nMessageParameterResolver\n * @constructor\n */\n    .service('catI18nService', ['$q', '$log', 'catI18nMessageSourceService', 'catI18nMessageParameterResolver', CatI18nService]);\n","/**\n * Created by tscheinecker on 05.08.2014.\n */\n\n\n\n/**\n * @ngdoc service\n * @description\n * This service provider delegates to the $routeProvider and actually creates 2 separate routes after applying various\n * conventions / defaults\n *\n * @param $routeProvider\n * @constructor\n */\nfunction CatRouteServiceProvider($routeProvider) {\n    var viewNames = [];\n\n    /**\n     * This function creates route urls via convention from the given parameters and passes them (together with the\n     * configuration) to the $routeProvider. The actual route configuration is received by passing the given one\n     * to #window.cat.util.route.list and #window.cat.util.route.detail\n     * @param {string} baseUrl the base url which will be prepended to all routes\n     * @param {string} name the name for which the routes will be created\n     * @param {Object} [config] the config object which wraps the configurations for the list and detail route\n     */\n    this.listAndDetailRoute = function (baseUrl, name, config) {\n        viewNames.push(name);\n\n\n        var listUrl = baseUrl + '/' + window.cat.util.pluralize(name.toLowerCase());\n\n        if (!!config && config.url) {\n            listUrl = baseUrl + '/' + config.url || listUrl;\n        }\n\n        var listConfig = !!config ? config.list : {};\n        var detailsConfig = !!config ? config.details : {};\n        var nameConf = {\n            name: name\n        };\n\n        $routeProvider\n            .when(listUrl, window.cat.util.route.list(_.assign({}, nameConf, listConfig)))\n            .when(listUrl + '/:id', window.cat.util.route.detail(_.assign({}, nameConf, detailsConfig)));\n    };\n\n    /**\n     * This service simply exposes the created view and endpoint names, as the provider basically only delegates\n     * to the $routeProvider\n     * @return {Array} the registered view names\n     */\n    this.$get = function () {\n        return viewNames;\n    };\n}\n\n\nangular.module('cat.service').provider('catRouteService', CatRouteServiceProvider);","/**\n * Created by tscheinecker on 05.08.2014.\n */\n\n\n\nfunction assignDeep(target, source) {\n    return _.assign(target, source, function (targetProperty, sourceProperty) {\n        if (_.isObject(targetProperty) && _.isObject(sourceProperty)) {\n            return assignDeep(targetProperty, sourceProperty);\n        }\n\n        return sourceProperty;\n    });\n}\n\nfunction CatSelectConfigService(configs) {\n    var _configs = configs;\n\n    this.getConfig = function (name, options) {\n        var config = configs[name];\n\n        if (_.isUndefined(config) && _.isUndefined(options)) {\n            return undefined;\n        }\n\n        return assignDeep(_.clone(config) || {}, options);\n    };\n}\n\nfunction CatSelectConfigServiceProvider() {\n    var configs = {};\n\n    this.config = function (name, config) {\n        if (!_.isUndefined(config)) {\n            configs[name] = config;\n        }\n\n        return configs[name];\n    };\n\n    this.$get = function () {\n        return new CatSelectConfigService(configs);\n    };\n}\n\n\nangular.module('cat.service').provider('catSelectConfigService', CatSelectConfigServiceProvider);","/**\n * Created by tscheinecker on 05.08.2014.\n */\n\n\n\n/**\n * @ngdoc service\n * @description\n * This service provider can be used to initialize an api endpoint and the according detail and list routes by simply\n * providing a name and a config object.\n *\n * @param {CatRouteServiceProvider} catRouteServiceProvider\n * @param {CatApiServiceProvider} catApiServiceProvider\n * @constructor\n */\nfunction CatViewServiceProvider(catRouteServiceProvider, catApiServiceProvider) {\n    var viewNames = [];\n    var endpointNames = [];\n\n    /**\n     * This function registers a new api endpoint with catApiServiceProvider and a list and detail route with\n     * catRouteServiceProvider\n     * @param {string} baseUrl the base url which will be prepended to all generated route pats\n     * @param {string} name the name used as entry point to all routes and endpoint creations (camel cased)\n     * @param {object} [config] the config object which can in turn hold objects used for configuration of the endpoint,\n     * detail route or list route\n     */\n    this.listAndDetailView = function (baseUrl, name, config) {\n        var endpointName = name.toLowerCase();\n        var url = window.cat.util.pluralize(endpointName);\n\n        if (!!config) {\n            url = config.url || url;\n        }\n\n        var endpoint = {\n            model: window.cat.util.defaultModelResolver(name),\n            url: url\n        };\n\n        if (!!config) {\n            endpoint = _.assign(endpoint, config.endpoint);\n        }\n\n\n        viewNames.push(name);\n        endpointNames.push(endpointName);\n\n        catApiServiceProvider.endpoint(name.toLowerCase(), endpoint);\n        catRouteServiceProvider.listAndDetailRoute(baseUrl, name, config);\n    };\n\n    /**\n     * This service simply exposes the created view and endpoint names, as the provider basically only delegates\n     * to other service providers\n     * @return {{views: Array, endpoints: Array}}\n     */\n    this.$get = function () {\n        return {\n            views: viewNames,\n            endpoints: endpointNames\n        };\n    };\n}\n\n\nangular.module('cat.service').provider('catViewService', CatViewServiceProvider);","/**\n * Created by tscheinecker on 05.05.2014.\n */\n\n\nangular.module('cat.service')\n    .factory('errorHttpInterceptor', function CatErrorHttpInterceptor($q, $globalMessages, loadingService) {\n        return {\n            'request': function (config) {\n                loadingService.start();\n                return config;\n            },\n            'requestError': function (rejection) {\n                loadingService.stop();\n                return $q.reject(rejection);\n            },\n            'response': function (success) {\n                loadingService.stop();\n                return success;\n            },\n            'responseError': function (rejection) {\n                loadingService.stop();\n                $globalMessages.clearMessages('error');\n\n                if (!!rejection.data.error) {\n                    var error = '[' + rejection.status + ' - ' + rejection.statusText + '] ' + rejection.data.error;\n                    if (!!rejection.data.cause) {\n                        error += '\\n' + rejection.data.cause;\n                    }\n                    $globalMessages.addMessage('error', error);\n                }\n                if (!!rejection.data.globalErrors) {\n                    $globalMessages.addMessages('error', rejection.data.globalErrors);\n                }\n\n                return $q.reject(rejection);\n            }\n        };\n    })\n    .config(function ($httpProvider) {\n        $httpProvider.interceptors.push('errorHttpInterceptor');\n    });\n","\n\nfunction MenuEntry(menuEntryId, options, parent) {\n    this.id = menuEntryId;\n    this.completeId = parent.completeId + '.' + this.id;\n    var _options = options;\n\n    this.getOptions = function () {\n        return _options;\n    };\n\n    this.isGroup = function () {\n        return false;\n    };\n\n    this.isMenu = function () {\n        return false;\n    };\n}\n\nfunction MenuGroup(groupId, options, parent) {\n    var that = this;\n    this.id = groupId;\n    this.completeId = parent.completeId + '.' + this.id;\n    var _menuEntries = [];\n    var _options = options;\n\n    this.addMenuEntry = function (menuEntryId, options) {\n        _menuEntries.push(new MenuEntry(menuEntryId, options, that));\n    };\n\n    this.getOptions = function () {\n        return _options;\n    };\n\n    this.getEntries = function () {\n        return _.sortBy(_menuEntries, function (entry) {\n            return entry.getOptions().sortOrder || 10000;\n        });\n    };\n\n    this.isGroup = function () {\n        return true;\n    };\n\n    this.isMenu = function () {\n        return false;\n    };\n}\n\nfunction Menu(menuId, options) {\n    var that = this;\n    this.id = menuId;\n    this.completeId = this.id;\n    var _menuEntries = [];\n    var _menuGroups = {};\n    var _options = options;\n\n    this.addMenuGroup = function (groupId, options) {\n        _menuGroups[groupId] = new MenuGroup(groupId, options, that);\n    };\n\n    this.addMenuEntry = function (groupId, menuEntryId, options) {\n        if (_.isUndefined(groupId)) {\n            _menuEntries.push(new MenuEntry(menuEntryId, options, that));\n        } else {\n            _menuGroups[groupId].addMenuEntry(menuEntryId, options);\n        }\n    };\n\n    this.getGroups = function () {\n        return _.sortBy(_.map(_menuGroups, function (menuGroup) {\n            return menuGroup;\n        }), function (menuGroup) {\n            return menuGroup.getOptions().sortOrder || 10000;\n        });\n    };\n\n    this.getEntries = function (groupId) {\n        if (_.isUndefined(groupId)) {\n            return _.sortBy(_menuEntries, function (entry) {\n                return entry.getOptions().sortOrder || 10000;\n            });\n        }\n        return _menuGroups[groupId].getEntries();\n    };\n\n    this.getFlattened = function () {\n        return _.flatten([_menuEntries, _.map(this.getGroups(), function (group) {\n            return[group, group.getEntries()];\n        })]);\n    };\n\n    this.isMenu = function () {\n        return true;\n    };\n\n    this.isGroup = function () {\n        return false;\n    };\n\n    this.getOptions = function () {\n        return _options;\n    };\n}\n\nfunction MenuBar(menuBarId, options) {\n    this.id = menuBarId;\n    var _menus = {};\n    var _options = options;\n\n    this.addMenu = function (menuId, options) {\n        _menus[menuId] = new Menu(menuId, options);\n    };\n\n    this.addMenuGroup = function (menuId, groupId, options) {\n        _menus[menuId].addMenuGroup(groupId, options);\n    };\n\n    this.addMenuEntry = function (menuId, groupId, menuEntryId, options) {\n        _menus[menuId].addMenuEntry(groupId, menuEntryId, options);\n    };\n\n    this.getMenus = function () {\n        return _.map(_menus, function (menu) {\n            return menu;\n        });\n    };\n\n    this.getOptions = function () {\n        return _options;\n    };\n}\n\nfunction MainMenuProvider() {\n    var _mainMenu = new MenuBar('main.menu', {});\n\n    var _menus = [];\n    var _groups = [];\n    var _entries = [];\n\n    this.menu = function (moduleId, options) {\n        _menus.push({\n            menuId: moduleId,\n            options: options\n        });\n    };\n\n    this.menuGroup = function (moduleId, groupId, options) {\n        _groups.push({\n            menuId: moduleId,\n            groupId: groupId,\n            options: options\n        });\n    };\n\n    this.menuEntry = function (moduleId, groupId, entryId, options) {\n        if (_.isUndefined(options)) {\n            options = entryId;\n            entryId = groupId;\n            groupId = undefined;\n        }\n        _entries.push({\n            menuId: moduleId,\n            groupId: groupId,\n            entryId: entryId,\n            options: options\n        });\n    };\n\n    this.$get = function () {\n        _.forEach(_menus, function (menu) {\n            _mainMenu.addMenu(menu.menuId, menu.options);\n        });\n\n        _.forEach(_groups, function (group) {\n            _mainMenu.addMenuGroup(group.menuId, group.groupId, group.options);\n        });\n\n        _.forEach(_entries, function (entry) {\n            _mainMenu.addMenuEntry(entry.menuId, entry.groupId, entry.entryId, entry.options);\n        });\n\n        return _mainMenu;\n    };\n}\n\nangular.module('cat.service').provider('$mainMenu', MainMenuProvider);\n","/**\n * Created by tscheinecker on 05.05.2014.\n */\n\n\nangular.module('cat.service').service('$globalMessages', function CatGlobalMessages($rootScope) {\n    var messages = {};\n\n    var self = this;\n\n    this.getMessages = function (type) {\n        if (!type) {\n            return [];\n        }\n\n        return messages[type];\n    };\n\n    this.hasMessages = function (type) {\n        if (!type) {\n            return false;\n        }\n\n        return !!messages[type] && messages[type].length !== 0;\n    };\n\n    this.clearMessages = function (type) {\n        if (!type) {\n            messages = {};\n            return;\n        }\n\n        messages[type] = [];\n    };\n\n    this.addMessage = function (type, message) {\n        if (!type) {\n            return;\n        }\n\n        if (!messages[type]) {\n            self.clearMessages(type);\n        }\n\n        messages[type].push(message);\n    };\n\n    this.addMessages = function (type, messages) {\n        if (!type) {\n            return;\n        }\n\n        _.forEach(messages, function (message) {\n            self.addMessage(type, message);\n        });\n    };\n\n    this.setMessages = function (type, messages) {\n        if (!type) {\n            return;\n        }\n\n        self.clearMessages(type);\n        if (!!messages) {\n            self.addMessages(type, messages);\n        }\n    };\n\n    $rootScope.$on('$routeChangeSuccess', function () {\n        self.clearMessages();\n    });\n});\n","\n\nwindow.cat = window.cat || {};\n\n/**\n * A 'FacetTerm' model used in conjunction with the cat-paginated directive where it represents a value of a group or\n * property which can be used to filter the shown list.\n * It consist of an id, a name and a count\n *\n * @param {Object} [data={}] the data used instantiate the object with. Usually this is the object representation\n * returned from the server.\n * @constructor\n */\nwindow.cat.FacetTerm = function (data) {\n    if (data === undefined) data = {};\n\n    this.id = data.id;\n    this.name = data.name;\n    this.count = data.count;\n};\n\n/**\n * A 'Facet' model which is used in conjunction with the cat-paginated directive where it represents a group or\n * which property which can be used to filter the shown list.\n * It has a name and an array of FacetTerms\n *\n * @param {Object} [data={}] the data used instantiate the object with. Usually this is the object representation\n * returned from the server.\n * @constructor\n */\nwindow.cat.Facet = function (data) {\n    if (data === undefined) data = {};\n\n    this.name = data.name;\n    this.terms = _.map(data.facets, function (facet) {\n        return new window.cat.FacetTerm(facet);\n    });\n};","\n\nwindow.cat = window.cat || {};\n\n/**\n * A 'SearchRequest' model used by the catApiService to provide the backend with certain filter, order, page and size\n * parameters.\n *\n *\n * @param {Object} [searchUrlParams] an object representing the search parameters of the current url, which are\n * used to initialize the properties of the SearchRequest\n * @constructor\n */\nwindow.cat.SearchRequest = function (searchUrlParams) {\n\n    var _pagination = {\n        page: 1,\n        size: 100\n    };\n    var _sort = {};\n    var _search = {};\n\n    var lastEncoded;\n\n    if (!!searchUrlParams && !_.isEmpty(searchUrlParams)) {\n        _pagination.page = searchUrlParams.page || _pagination.page;\n        _pagination.size = searchUrlParams.size || _pagination.size;\n        _sort.property = searchUrlParams.sort || _sort.property;\n        _sort.isDesc = searchUrlParams.rev || _sort.isDesc;\n        _.forEach(_.keys(searchUrlParams), function (param) {\n            if (param.indexOf('search.') > -1 && param.length > 7) {\n                _search[param.substring(7)] = searchUrlParams[param];\n            }\n        });\n    }\n\n    var _encodeSort = function () {\n        return (!!_sort.property ? 'sort=' + _sort.property + ':' + ((_sort.isDesc === true || _sort.isDesc === 'true') ? 'desc' : 'asc') : '');\n    };\n\n    var _encodePagination = function () {\n        return 'page=' + (!!_pagination.page ? Math.max(0, _pagination.page - 1) : 0) + '&size=' + _pagination.size || 100;\n    };\n\n    var _concatenate = function (result, next) {\n        if (!result) {\n            return next;\n        }\n\n        if (!next) {\n            return result;\n        }\n        return result + '&' + next;\n    };\n\n    var _encodeSearch = function () {\n        if (!!_search && !_.isEmpty(_search)) {\n            return $.param(_search);\n        }\n\n        return '';\n    };\n\n    var urlEndoded = function () {\n        return _([_encodePagination(), _encodeSort(), _encodeSearch()]).reduce(_concatenate);\n    };\n\n    /**\n     * @param {Object} [pagination] if given this object overrides the current 'pagination' state\n     * @returns {{}} the object representing the current pagination state\n     */\n    this.pagination = function (pagination) {\n        if (pagination === undefined) {\n            return _pagination;\n        } else {\n            _pagination = pagination;\n            return _pagination;\n        }\n    };\n\n\n    /**\n     * @param {Object} [sort] if given this object overrides the current 'sort' state\n     * @returns {{}} the object representing the current sort state\n     */\n    this.sort = function (sort) {\n        if (sort === undefined) {\n            return _sort;\n        } else {\n            _sort = sort;\n            return _sort;\n        }\n    };\n\n    /**\n     * @param {Object} [search] if given this object overrides the current 'search' state\n     * @returns {{}} the object representing the current search state\n     */\n    this.search = function (search) {\n        if (search === undefined) {\n            return _search;\n        } else {\n            _search = search;\n            return _search;\n        }\n    };\n\n    /**\n     * @returns {String} a string representation of the current SearchRequest which can be used as part of the request\n     * url\n     */\n    this.urlEncoded = function () {\n        lastEncoded = urlEndoded();\n        return lastEncoded;\n    };\n\n    /**\n     * @returns {boolean} <code>true</code> if something changed since the last time {@link this#urlEncoded} was called\n     */\n    this.isDirty = function () {\n        return lastEncoded !== urlEndoded();\n    };\n\n    /**\n     * A small helper function to update the current url to correctly reflect all properties set within this\n     * SearchRequest\n     * @param $location the angular $location service\n     */\n    this.setSearch = function ($location) {\n        var ret = {};\n        ret.page = _pagination.page;\n        ret.size = _pagination.size;\n        if (!!_sort.property) {\n            ret.sort = _sort.property;\n            ret.rev = _sort.isDesc || false;\n        }\n        _.forEach(_.keys(_search), function (s) {\n            ret['search.' + s] = _search[s];\n        });\n        $location.search(ret);\n    };\n};","\nangular.module('cat')\n    .directive('catCheckbox', function CatCheckboxDirective() {\n        return {\n            replace: true,\n            restrict: 'E',\n            scope: {\n                checked: '='\n            },\n            link: function CatCheckboxLink(scope, element) {\n                if (!!scope.checked) {\n                    element.addClass('glyphicon glyphicon-check');\n                } else {\n                    element.addClass('glyphicon glyphicon-unchecked');\n                }\n            }\n        };\n    });","\nangular.module('cat')\n    .directive('catConfirmClick', function CatConfirmClickDirective() {\n        return {\n            restrict: 'A',\n            link: function CatConfirmClickLink(scope, element, attr) {\n                var msg = attr.catConfirmClick || 'Are you sure?';\n                var clickAction = attr.catOnConfirm;\n                element.bind('click', function (event) {\n                    if (window.confirm(msg)) {\n                        scope.$eval(clickAction);\n                    }\n                });\n            }\n        };\n    });\n","\nangular.module('cat')\n    .directive('catFacets', function CatFacetsDirective() {\n        function _initDefaults(scope) {\n            if (_.isUndefined(scope.listData)) {\n                scope.listData = scope.$parent.listData;\n            }\n        }\n\n        function _checkConditions(scope) {\n            if (_.isUndefined(scope.listData)) {\n                throw new Error('listData was not defined and couldn\\'t be found with default value');\n            }\n\n            if (_.isUndefined(scope.listData.facets)) {\n                throw new Error('No facets are available within given listData');\n            }\n        }\n\n        return {\n            replace: true,\n            restrict: 'E',\n            scope: {\n                listData: '=?',\n                names: '='\n            },\n            require: '^catPaginated',\n            templateUrl: 'template/cat-facets.tpl.html',\n            link: function CatFacetsLink(scope, element, attrs, catPaginatedController) {\n                _initDefaults(scope);\n                _checkConditions(scope);\n\n                scope.catPaginatedController = catPaginatedController;\n            },\n            controller: function CatFacetsController($scope) {\n                $scope.isActive = function (facet) {\n                    return !!$scope.catPaginatedController.getSearch()[facet.name];\n                };\n\n                function _search(search) {\n                    return $scope.catPaginatedController.getSearchRequest().search(search);\n                }\n\n                $scope.facetName = function (facet) {\n                    if ($scope.names !== undefined && $scope.names[facet.name] !== undefined) {\n                        return $scope.names[facet.name];\n                    } else {\n                        return facet.name;\n                    }\n                };\n\n                $scope.facets = {};\n\n                $scope.facetChanged = function (facet) {\n                    var search = _search();\n                    var value = $scope.facets[facet.name];\n                    if (!!value) {\n                        search[facet.name] = value;\n                    } else {\n                        delete search[facet.name];\n                    }\n                };\n\n                $scope.initFacets = function () {\n                    _.forEach($scope.listData.facets, function (facet) {\n                        if ($scope.isActive(facet)) {\n                            $scope.facets[facet.name] = $scope.catPaginatedController.getSearch()[facet.name];\n                        }\n                    });\n                };\n\n                $scope.facetSelectOptions = {\n                    allowClear: true\n                };\n            }\n        };\n    });\n","/**\n * Created by tscheinecker on 05.05.2014.\n */\n\n\nangular.module('cat')\n    .directive('catFieldErrors', function CatFieldErrorsDirective() {\n        return {\n            replace: 'true',\n            restrict: 'E',\n            scope: {\n                errors: '=',\n                name: '@'\n            },\n            template: '<div class=\"label label-danger\" ng-if=\"errors[name]\"><ul><li ng-repeat=\"error in errors[name]\">{{error}}</li></ul></div>'\n        };\n    });","/**\n * Created by tscheinecker on 21.10.2014.\n */\n\nangular.module('cat.directives.i18n')\n    .directive('catI18n', ['$log', '$rootScope', 'catI18nService', function CatI18nDirective($log, $rootScope, catI18nService) {\n        function _translate(scope, element) {\n            if (!scope.key) {\n                $log.warn('No key was given for cat-i18n!');\n                return;\n            }\n            catI18nService.translate(scope.key, scope.params).then(\n                function (message) {\n                    element.text(message);\n                }, function (reason) {\n                    // TODO - introduce a handler service for this case - eg show '##missingkey: somekey##'\n                }\n            );\n        }\n\n\n        return {\n            restrict: 'A',\n            scope: {\n                key: '@catI18n',\n                params: '=?i18nParams',\n                watchParams: '=?i18nWatchParams'\n            },\n            link: function CatI18nLink(scope, element) {\n                _translate(scope, element);\n\n                if (!!scope.params && scope.watchParams === true) {\n                    scope.$watch('params', function () {\n                        _translate(scope, element);\n                    }, true);\n                }\n\n                $rootScope.$on('cat-i18n-refresh', function () {\n                    _translate(scope, element);\n                });\n            }\n        };\n    }]);\n","/**\n * Created by tscheinecker on 05.05.2014.\n */\n\n\nangular.module('cat')\n    .directive('input', function CatInputDirective() {\n        return {\n            require: 'ngModel',\n            restrict: 'E',\n            link: function CatInputLink(scope, element, attrs, ctrl) {\n                scope.$on('fieldErrors', function (event, fieldErrors) {\n                    if (!fieldErrors || !attrs.id) {\n                        return;\n                    }\n                    var valid = !fieldErrors[attrs.id];\n                    ctrl.$setValidity(attrs.id, valid);\n                });\n            }\n        };\n    })\n    .directive('catInputGroup', function CatInputGroupDirective() {\n        return {\n            restrict: 'A',\n            transclude: true,\n            scope: {\n                errors: '=',\n                label: '@',\n                name: '@'\n            },\n            link: function CatInputGroupLink(scope, element) {\n                element.addClass('form-group');\n            },\n            templateUrl: 'template/cat-input.tpl.html'\n        };\n    });","\nangular.module('cat')\n    .directive('catLoadMore', function CatLoadMoreDirective() {\n        return {\n            replace: true,\n            restrict: 'A',\n            link: function CatLoadMoreLink(scope, element, attrs) {\n                var initialCount = parseInt(attrs.catLoadMore);\n                scope.$parent.elementsCount = scope.$parent.elementsCount || initialCount;\n                scope.$parent.elements = scope.$parent.elements || [];\n                scope.$parent.elements.push(element);\n                if (scope.$parent.elements.length > scope.$parent.elementsCount) {\n                    element.addClass('hidden');\n                }\n                if (!element.parent().next().length && scope.$parent.elements.length > scope.$parent.elementsCount) {\n                    var elt = $('<a href=\"#\">Show more</a>');\n                    elt.on({\n                        click: function () {\n                            scope.$parent.elementsCount += initialCount;\n                            if (scope.$parent.elements.length <= scope.$parent.elementsCount) {\n                                elt.addClass('hidden');\n                            }\n                            scope.$parent.elements.forEach(function (elt, ind) {\n                                if (ind < scope.$parent.elementsCount) {\n                                    elt.removeClass('hidden');\n                                }\n                            });\n                            return false;\n                        }\n                    });\n                    element.parent().after(elt);\n                }\n            }\n        };\n    });\n","\nangular.module('cat')\n    .directive('catMainMenu', ['$mainMenu', '$rootScope', function CatMainMenuDirective($mainMenu, $rootScope) {\n        return {\n            restrict: 'E',\n            scope: {\n            },\n            link: function CatMainMenuLink(scope) {\n                scope.menus = $mainMenu.getMenus();\n                scope.isVisible = function (entry) {\n                    var visible = false;\n                    if (entry.isMenu() || entry.isGroup()) {\n                        _.forEach(entry.getEntries(), function (subEntry) {\n                            visible = visible || scope.isVisible(subEntry);\n                        });\n                        if (entry.isMenu()) {\n                            _.forEach(entry.getGroups(), function (groups) {\n                                visible = visible || scope.isVisible(groups);\n                            });\n                        }\n                    } else {\n                        return scope.isAllowed(entry);\n                    }\n                    return visible;\n                };\n                scope.isAllowed = function (entry) {\n                    var rights = entry.getOptions().rights;\n                    if (!!rights) {\n                        if (_.isArray(rights)) {\n                            var allowed = true;\n                            for (var i = 0; i < rights.length; i++) {\n                                allowed = allowed && $rootScope.isAllowed(rights[i]);\n                            }\n                            return allowed;\n                        }\n                        return $rootScope.isAllowed(rights);\n                    }\n                    return true;\n                };\n            },\n            templateUrl: 'template/cat-main-menu.tpl.html'\n        };\n    }]);\n","\nangular.module('cat')\n    .directive('catPaginated', function CatPaginatedDirective($log, catI18nService) {\n        var SEARCH_PROP_KEY = 'cc.catalysts.cat-paginated.search.prop';\n\n        return {\n            replace: true,\n            restrict: 'E',\n            transclude: true,\n            scope: {\n                listData: '=?',\n                syncLocation: '=?'\n            },\n            templateUrl: 'template/cat-paginated.tpl.html',\n            link: function CatPaginatedLink(scope, element, attrs) {\n                if (!!attrs.searchProps) {\n                    scope.searchProps = _.filter(attrs.searchProps.split(','), function (prop) {\n                        return !!prop;\n                    });\n\n                    scope.searchPropertyPlaceholders = {};\n\n                    _.forEach(scope.searchProps, function (searchProp) {\n                        scope.searchPropertyPlaceholders[searchProp] = 'Search by ' + searchProp;\n                        catI18nService.translate(SEARCH_PROP_KEY, {prop: searchProp})\n                            .then(function (message) {\n                                scope.searchPropertyPlaceholders[searchProp] = message;\n                            });\n                    });\n                }\n            },\n            controllerAs: 'catPaginatedController',\n            controller: function CatPaginatedController($scope, $location, $timeout, $rootScope, catListDataLoadingService, catI18nService) {\n                var that = this;\n                var searchTimeout = null, DELAY_ON_SEARCH = 500;\n                var PAGINATION_PREVIOUS_KEY = 'cc.catalysts.cat-paginated.pagination.previous';\n                var PAGINATION_NEXT_KEY = 'cc.catalysts.cat-paginated.pagination.next';\n                var PAGINATION_FIRST_KEY = 'cc.catalysts.cat-paginated.pagination.first';\n                var PAGINATION_LAST_KEY = 'cc.catalysts.cat-paginated.pagination.last';\n\n                if (_.isUndefined($scope.listData)) {\n                    $scope.listData = $scope.$parent.listData;\n                    if (_.isUndefined($scope.listData)) {\n                        throw new Error('listData was not defined and couldn\\'t be found with default value');\n                    }\n                }\n\n                if (_.isUndefined($scope.syncLocation)) {\n                    $scope.syncLocation = _.isUndefined($scope.$parent.detail);\n                }\n\n                $scope.paginationText = {\n                    previous: 'Previous',\n                    next: 'Next',\n                    first: 'First',\n                    last: 'Last'\n                };\n\n                function handlePaginationTextResponse(prop) {\n                    return function (message) {\n                        $scope.paginationText[prop] = message;\n                    };\n                }\n\n\n                function _loadPaginationTranslations() {\n                    catI18nService.translate(PAGINATION_PREVIOUS_KEY).then(handlePaginationTextResponse('previous'));\n                    catI18nService.translate(PAGINATION_NEXT_KEY).then(handlePaginationTextResponse('next'));\n                    catI18nService.translate(PAGINATION_FIRST_KEY).then(handlePaginationTextResponse('first'));\n                    catI18nService.translate(PAGINATION_LAST_KEY).then(handlePaginationTextResponse('last'));\n                }\n\n                _loadPaginationTranslations();\n\n                $rootScope.$on('cat-i18n-refresh', function () {\n                    _loadPaginationTranslations();\n                });\n\n\n                $scope.listData.search = $scope.listData.search || $scope.listData.searchRequest.search() || {};\n\n                var searchRequest = $scope.listData.searchRequest;\n\n                var reload = function (delay) {\n                    $timeout.cancel(searchTimeout);\n                    searchTimeout = $timeout(function () {\n                        if (searchRequest.isDirty()) {\n                            catListDataLoadingService.load($scope.listData.endpoint, searchRequest).then(\n                                function (data) {\n                                    _.assign($scope.listData, data);\n                                }\n                            );\n                        }\n                    }, delay || 0);\n                };\n\n                $scope.$watch('listData.sort', function (newVal) {\n                    if (!!newVal) {\n                        console.log('broadcasting sort changed: ' + angular.toJson(newVal));\n                        $scope.$parent.$broadcast('SortChanged', newVal);\n                    }\n                }, true);\n\n                $scope.$on('SearchChanged', function (event, value, delay) {\n                    searchChanged(value, delay);\n                });\n\n                function updateLocation() {\n                    if ($scope.syncLocation !== false) {\n                        searchRequest.setSearch($location);\n                        $location.replace();\n                    }\n                }\n\n                $scope.$watch('listData.pagination', function () {\n                    updateLocation();\n                    reload();\n                }, true);\n\n                var searchChanged = function (value, delay) {\n                    searchRequest.search(value);\n                    updateLocation();\n                    $scope.listData.pagination.page = 1;\n                    reload(delay);\n                };\n\n                var updateSearch = function (value) {\n                    var search = searchRequest.search();\n                    _.assign(search, value);\n                    $rootScope.$broadcast('SearchChanged', search, DELAY_ON_SEARCH);\n                };\n\n                $scope.$watch('listData.search', updateSearch, true);\n\n                this.sort = function (value) {\n                    searchRequest.sort(value);\n                    updateLocation();\n                    $scope.listData.pagination.page = 1;\n                    reload();\n                };\n\n                this.getSearch = function () {\n                    return searchRequest.search();\n                };\n\n                this.getSearchRequest = function () {\n                    return searchRequest;\n                };\n\n                $scope.$on('SortChanged', function (event, value) {\n                    that.sort(value);\n                });\n            }\n        };\n    });\n","\nangular.module('cat')\n    .directive('form', ['$timeout', function CatFormDirective($timeout) {\n        return {\n            restrict: 'E',\n            scope: true,\n            require: 'form',\n            link: function CatFormLink(scope, element, attrs, formCtrl) {\n                var warningMessage = attrs.eocsWarnOnNavIfDirty || 'You have unsaved changes. Leave the page?';\n\n                // TODO - remove this ugly hack if ui-select2 fixes this problem...\n                $timeout(function () {\n                    formCtrl.$setPristine(true);\n                }, 50);\n\n                scope.$on('formReset', function () {\n                    formCtrl.$setPristine(true);\n                });\n\n                scope.$on('formDirty', function () {\n                    formCtrl.$setDirty(true);\n                });\n\n                // handle angular route change\n                scope.$on('$locationChangeStart', function (event) {\n                    if (formCtrl.$dirty) {\n                        if (!window.confirm(warningMessage)) {\n                            event.preventDefault();\n                        }\n                    }\n                });\n\n                // handle browser window/tab close\n                $(window).on('beforeunload', function (event) {\n                    if (formCtrl.$dirty) {\n                        return warningMessage;\n                    }\n                });\n\n                // clean up beforeunload handler when scope is destroyed\n                scope.$on('$destroy', function () {\n                    $(window).unbind('beforeunload');\n                });\n            }\n        };\n    }]);\n","\n\nangular.module('cat')\n    .directive('numbersOnly', function CatNumbersOnlyDirective() {\n        return {\n            require: 'ngModel',\n            link: function CatNumbersOnlyLink(scope, element, attrs, modelCtrl) {\n                modelCtrl.$parsers.push(function (inputValue) {\n                    if (!inputValue) return '';\n\n                    var pattern = '[^0-9]';\n\n                    if (!!attrs.hasOwnProperty('allowFraction')) {\n                        pattern = '[^0-9,.]';\n                    }\n\n                    var transformedInput = inputValue.replace(new RegExp(pattern, 'g'), '');\n\n                    if (transformedInput !== inputValue) {\n                        modelCtrl.$setViewValue(transformedInput);\n                        modelCtrl.$render();\n                    }\n\n                    return transformedInput;\n                });\n            }\n        };\n    });","\nangular.module('cat')\n    .filter('replaceText', function CatReplaceTetFilter() {\n        return function (text, pattern, options, replacement) {\n            if (pattern === undefined)\n                pattern = '\\n';\n            if (options === undefined)\n                options = 'g';\n            if (replacement === undefined)\n                replacement = ', ';\n            if (!text) {\n                return text;\n            } else {\n                return String(text).replace(new RegExp(pattern, options), replacement);\n            }\n        };\n    });\n","/**\n * Created by tscheinecker on 23.10.2014.\n */\n\n\nwindow.cat.i18n = window.cat.i18n || {};\nwindow.cat.i18n.de = window.cat.i18n.de || {};\n\n_.assign(window.cat.i18n.de, {\n    'cc.catalysts.cat-paginated.itemsFound': '{{count}} Einträge gefunden. Einträge {{firstResult}}-{{lastResult}}',\n    'cc.catalysts.cat-paginated.noItemsFound': 'Keine Einträge gefunden',\n    'cc.catalysts.general.new': 'Neu'\n});\n","/**\n * Created by tscheinecker on 23.10.2014.\n */\n\n\nwindow.cat.i18n = window.cat.i18n || {};\nwindow.cat.i18n.en = window.cat.i18n.en || {};\n\n_.assign(window.cat.i18n.en, {\n    'cc.catalysts.cat-paginated.itemsFound': '{{count}} entries found. Entries {{firstResult}}-{{lastResult}}',\n    'cc.catalysts.cat-paginated.noItemsFound': 'No entries found',\n    'cc.catalysts.general.new': 'New'\n});\n","\n\nangular.module('cat.service')\n    .factory('catListDataLoadingService', ['catApiService', '$route', '$q', function CatListDataLoadingService(catApiService, $route, $q) {\n        var load = function (endpoint, searchRequest) {\n            var deferred = $q.defer();\n            endpoint.list(searchRequest).then(\n                function success(data) {\n                    var pagination = searchRequest.pagination();\n\n                    var result = {\n                        count: data.totalCount,\n                        collection: data.elements,\n                        pagination: pagination,\n                        firstResult: (pagination.page - 1) * pagination.size + 1,\n                        lastResult: Math.min(pagination.page * pagination.size, data.totalCount),\n                        facets: data.facets,\n                        isSinglePageList: data.totalCount <= pagination.size,\n                        endpoint: endpoint,\n                        searchRequest: searchRequest\n                    };\n\n                    delete data.totalCount;\n                    delete data.elements;\n                    delete data.facets;\n\n                    deferred.resolve(_.assign(result, data));\n                },\n                function error(reason) {\n                    deferred.reject(reason);\n                });\n            return deferred.promise;\n        };\n        /**\n         *\n         * @param {String} endpointName\n         * @param {Object} [defaultSort={property:'name',isDesc:false}]\n         */\n        var resolve = function (endpointName, defaultSort) {\n            var searchRequest = new window.cat.SearchRequest($route.current.params);\n            if (!defaultSort) {\n                defaultSort = {property: 'name', isDesc: false};\n            }\n            if (!!defaultSort && !$route.current.params.sort) {\n                searchRequest.sort(defaultSort);\n            }\n            return load(catApiService[endpointName], searchRequest);\n        };\n\n        return {\n            'load': load,\n            'resolve': resolve\n        };\n    }]);\n","/**\n * Created by tscheinecker on 01.06.2014.\n */\n\n\nangular.module('cat.service')\n    .factory('loadingService', function CatLoadingService($rootScope, usSpinnerService, $timeout) {\n        var timeout = 50;\n        var animationDuration = 200;\n        var activeCount = 0;\n        var startTime;\n        var startTimer, stopTimer;\n\n        var start = function () {\n            if (!activeCount && !startTimer) {\n                if (!!stopTimer) {\n                    $timeout.cancel(stopTimer);\n                    stopTimer = undefined;\n                }\n                startTimer = $timeout(function () {\n                    usSpinnerService.spin('loading-spinner');\n                    $rootScope.loading = true;\n                    startTime = new Date().getTime();\n                }, timeout);\n            }\n            activeCount++;\n        };\n\n        var stop = function () {\n            activeCount--;\n            if (!activeCount && !stopTimer) {\n                if (!!startTimer) {\n                    $timeout.cancel(startTimer);\n                    startTimer = undefined;\n                }\n                var now = new Date().getTime();\n                var stopTimeout = timeout + (Math.max((animationDuration - (now - startTime)), 0));\n                stopTimer = $timeout(function () {\n                    usSpinnerService.stop('loading-spinner');\n                    $rootScope.loading = false;\n                }, stopTimeout);\n            }\n        };\n\n        $rootScope.$on('$routeChangeStart', function (event) {\n            start();\n\n        });\n        $rootScope.$on('$routeChangeSuccess', function (event) {\n            stop();\n        });\n        $rootScope.$on('$routeChangeError', function (event) {\n            stop();\n        });\n\n        return {\n            start: start,\n            stop: stop\n        };\n    });\n","/**\n * Created by tscheinecker on 26.08.2014.\n */\n\n\nwindow.cat.util = window.cat.util || {};\n\nwindow.cat.util.pluralize = function (string) {\n    if (_.isUndefined(string) || string.length === 0) {\n        return '';\n    }\n    var lastChar = string[string.length - 1];\n\n    switch (lastChar) {\n        case 'y':\n            return string.substring(0, string.length - 1) + 'ies';\n        case 's':\n            return string + 'es';\n        default :\n            return string + 's';\n    }\n\n};\n\nwindow.cat.util.capitalize = function (string) {\n    if (_.isUndefined(string) || string.length === 0) {\n        return '';\n    }\n\n    return string.substring(0, 1).toUpperCase() + string.substring(1, string.length);\n};","/**\n * Created by tscheinecker on 01.08.2014.\n */\n\n\n\nwindow.cat.util = window.cat.util || {};\n\nwindow.cat.models = window.cat.models || {};\n\n/**\n * This helper function is used to acquire the constructor function which is used as a 'model' for the api endpoint.\n * @param name the name of the 'entity' for which the constructor has to be returned\n * @returns {Constructor}\n */\nwindow.cat.util.defaultModelResolver = function (name) {\n    return window.cat.models[name];\n};\n\nvar toLowerCaseName = function (name) {\n    if (!name) {\n        return '';\n    }\n    return name.toLowerCase();\n};\n\n/**\n * Helper function to extract the base url from the current route and the parent endpoints\n * @param $route The angular $route service\n * @param {string} [baseUrl]\n * @param {array} [parentEndpointNames]\n * @return {string} the extracted baseUrl which is either the provided one, or one, generated from the parentEndpointNames\n */\nvar getBaseUrl = function ($route, baseUrl, parentEndpointNames) {\n    if (_.isUndefined(baseUrl)) {\n        baseUrl = $route.current.originalPath;\n        if (_.keys($route.current.pathParams).length !== 0) {\n            baseUrl = baseUrl.substring(0, baseUrl.lastIndexOf('/'));\n        }\n        if (_.isArray(parentEndpointNames)) {\n            _.forEach(parentEndpointNames, function (parentEndpointName) {\n                var idName = parentEndpointName + 'Id';\n                baseUrl = baseUrl.replace(':' + idName, $route.current.params[idName]);\n            });\n        }\n    }\n\n    return baseUrl;\n};\n\n/**\n * A helper function for list routes which applies a few optimizations and some auto configuration.\n * In the current state it handles 4 settings:\n * * templateUrl - Auto-generation of the correct templateUrl based on conventions and the config.name property\n * * controller - Auto-generation of the correct controller based on conventions and the config.name property\n * * reloadOnSearch - this property is set to false\n * * resolve - a object with a 'listData' property is returned which is resolved via the correct endpoint\n *\n * @param {Object} config the route config object which will be used to generate the actual route configuration\n * @return {{reloadOnSearch: boolean, controller: string, templateUrl: (string), resolve: {config: Object}}}\n */\nvar listRoute = function (config) {\n    var name = toLowerCaseName(config.name);\n\n    function getListDataPromise(catListDataLoadingService) {\n        return catListDataLoadingService.resolve(config.endpoint || name, config.defaultSort);\n    }\n\n    function getResolvedConfig($q, $route, catListDataLoadingService) {\n        var deferredConfig = $q.defer();\n        var resolvedConfig = {\n            controller: config.controller || config.name + 'Controller',\n            baseUrl: getBaseUrl($route, config.baseUrl),\n            title: window.cat.util.pluralize(config.name),\n            searchProps: config.searchProps || window.cat.util.defaultListSearchProps,\n            listTemplateUrl: config.listTemplateUrl || (name + '/' + name + '-list.tpl.html')\n        };\n\n        getListDataPromise(catListDataLoadingService).then(\n            function (listData) {\n                resolvedConfig.listData = listData;\n                deferredConfig.resolve(resolvedConfig);\n            }\n        );\n\n        return deferredConfig.promise;\n    }\n\n    return {\n        reloadOnSearch: false,\n        controller: 'CatBaseListController',\n        controllerAs: 'catBaseListController',\n        templateUrl: config.templateUrl || 'template/cat-base-list.tpl.html',\n        resolve: {\n            config: getResolvedConfig\n        }\n    };\n};\n\n/**\n * A helper function for detail routes which applies a few optimizations and some auto configuration.\n * The actual instantiated controller will be 'CatBaseDetailController' with a default templateUrl\n * 'template/cat-base-detail.tpl.html'. As the CatBaseDetailController expects a config object with several properties\n * (templateUrls, parents, detail, endpoint, etc.) this function also takes care of providing the correct 'resolve'\n * object which pre-loads all the necessary data.\n * @param {Object} config the route config object which will be used to generate the actual route configuration\n * @returns {{templateUrl: (string), controller: string, reloadOnSearch: (boolean), resolve: {config: (object)}}}\n */\nvar detailRoute = function (config) {\n    var endpointName, parentEndpointNames;\n\n    if (_.isString(config.endpoint)) {\n        endpointName = config.endpoint;\n    } else if (_.isObject(config.endpoint)) {\n        parentEndpointNames = config.endpoint.parents;\n        endpointName = config.endpoint.name;\n    } else {\n        endpointName = toLowerCaseName(config.name);\n    }\n\n    var Model = config.model || window.cat.util.defaultModelResolver(config.name);\n\n    var parentUrl = '';\n    var parentTemplateNamePrefix = '';\n\n\n    if (_.isArray(parentEndpointNames)) {\n        _.forEach(parentEndpointNames, function (parentEndpointName) {\n            parentUrl += parentEndpointName;\n            parentUrl += '/';\n\n            parentTemplateNamePrefix += parentEndpointName;\n            parentTemplateNamePrefix += '-';\n        });\n    }\n\n    var tabs;\n\n    var templateUrls = {\n        edit: parentUrl + endpointName + '/' + parentTemplateNamePrefix + endpointName + '-details-edit.tpl.html',\n        view: parentUrl + endpointName + '/' + parentTemplateNamePrefix + endpointName + '-details-view.tpl.html'\n    };\n\n    if (config.additionalViewTemplate === true) {\n        templateUrls.view = {\n            main: templateUrls.view,\n            additional: parentUrl + endpointName + '/' + parentTemplateNamePrefix + endpointName + '-additional-details-view.tpl.html'\n        };\n    } else if (config.additionalViewTemplate === 'tabs') {\n        templateUrls.view = {\n            main: templateUrls.view,\n            additional: 'template/cat-base-additional-details-tabs-view.tpl.html'\n        };\n        tabs = config.additionalViewTemplateTabs;\n    }\n\n    function getEndpoint($route, catApiService) {\n        var endpoint = catApiService[endpointName];\n\n        if (_.isArray(parentEndpointNames)) {\n            _.forEach(parentEndpointNames, function (parentEndpointName, idx) {\n                var currentEndpoint;\n                if (idx === 0) {\n                    // root api endpoint\n                    currentEndpoint = catApiService[parentEndpointName];\n                } else {\n                    // child api endpoint\n                    currentEndpoint = endpoint[parentEndpointName];\n                }\n                endpoint = currentEndpoint.res($route.current.params[parentEndpointName + 'Id']);\n            });\n\n            endpoint = endpoint[endpointName];\n        }\n\n        return endpoint;\n    }\n\n    function getDetailData($route, $q, endpoint) {\n        var detailPromise;\n        var detailId = $route.current.params.id;\n        if (detailId === 'new') {\n            detailPromise = $q.when(new Model());\n        } else {\n            detailPromise = endpoint.get(detailId);\n        }\n        return detailPromise;\n    }\n\n    function getConfig($route, $q, catApiService) {\n        var deferred = $q.defer();\n        var endpoint = getEndpoint($route, catApiService);\n\n        var baseUrl = getBaseUrl($route, config.baseUrl, parentEndpointNames);\n\n        var resolvedConfig = {\n            controller: config.controller || config.name + 'DetailsController',\n            endpoint: endpoint,\n            Model: Model,\n            templateUrls: templateUrls,\n            tabs: tabs,\n            baseUrl: baseUrl\n        };\n\n\n        var detailPromise = getDetailData($route, $q, endpoint);\n        detailPromise.then(function (data) {\n            resolvedConfig.detail = data;\n        });\n\n        var parentsPromise = getParentInfo($q, endpoint);\n        parentsPromise.then(function (parents) {\n            resolvedConfig.parents = parents;\n        });\n\n        $q.all([detailPromise, parentsPromise]).then(\n            function () {\n                deferred.resolve(resolvedConfig);\n            },\n            function (reason) {\n                deferred.reject(reason);\n            }\n        );\n\n        return deferred.promise;\n    }\n\n    function getParentInfo($q, endpoint) {\n        if (!_.isUndefined(endpoint) && !_.isUndefined(endpoint.parentInfo)) {\n            var deferred = $q.defer();\n            var parents = [];\n            endpoint.parentInfo().then(\n                function (parent) {\n                    parents.push(parent);\n                    getParentInfo($q, endpoint.parentEndpoint).then(\n                        function (response) {\n                            parents.push(response);\n                            parents = _.flatten(parents);\n                            deferred.resolve(parents);\n                        },\n                        function (error) {\n                            deferred.reject(error);\n                        }\n                    );\n                }, function (error) {\n                    deferred.reject(error);\n                });\n            return deferred.promise;\n        } else {\n            return $q.when([]);\n        }\n    }\n\n    return {\n        templateUrl: config.templateUrl || 'template/cat-base-detail.tpl.html',\n        controller: 'CatBaseDetailController',\n        reloadOnSearch: config.reloadOnSearch,\n        resolve: {\n            config: function ($route, $q, catApiService) {\n                return getConfig($route, $q, catApiService);\n            }\n        }\n    };\n};\n\nwindow.cat.util.route = {\n    list: listRoute,\n    detail: detailRoute\n};"],"sourceRoot":"/source/"}