{"version":3,"sources":["src/controller/cat-base-detail-controller.js","src/controller/cat-base-list-controller.js","src/controller/cat-base-tabs-controller.js","src/directives/cat-select.js","src/service/cat-api-service.js","src/service/cat-breadcrumbs-service.js","src/service/cat-conversion-service.js","src/service/cat-i18n-locale-service.js","src/service/cat-i18n-message-source-service.js","src/service/cat-i18n-service.js","src/service/cat-route-service.js","src/service/cat-select-config-service.js","src/service/cat-view-service.js","src/service/main-menu-service.js","src/module.js","src/base/Facet.js","src/base/SearchRequest.js","src/directives/cat-autofocus.js","src/directives/cat-checkbox.js","src/directives/cat-confirm-click.js","src/directives/cat-facets.js","src/directives/cat-field-errors.js","src/directives/cat-i18n.js","src/directives/cat-inputs.js","src/directives/cat-load-more.js","src/directives/cat-main-menu.js","src/directives/cat-paginated.js","src/directives/cat-sortable.js","src/directives/form.js","src/directives/numbers-only.js","src/filters/cat-replacetext.js","src/i18n/cat-i18n-translations_de.js","src/i18n/cat-i18n-translations_en.js","src/service/cat-list-data-loading-service.js","src/service/http-interceptor.js","src/service/loading-service.js","src/service/message-service.js","src/util/cat-naming-util.js","src/util/cat-route-util.js"],"names":[],"mappings":"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","file":"cat-angular.min.js","sourcesContent":["'use strict';\r\n\r\n/**\r\n * @ngdoc controller\r\n * @name cat.controller.base.detail:CatBaseDetailController\r\n *\r\n * @description\r\n * The CatBaseDetailController takes care of providing several common properties and functions to the scope\r\n * of every detail page. It also instantiates the controller given via the config.controller parameter and shares\r\n * the same scope with it.\r\n *\r\n * Common properties include:\r\n * * detail - the actual object to view\r\n * * editDetail - a copy of the detail object used for editing\r\n * * breadcrumbs - the breadcrumbs array\r\n * * uiStack - the ui stack array if parents exist\r\n * * editTemplate - the url of the edit template\r\n * * mainViewTemplate - the url of the main view template\r\n * * additionalViewTemplate - the url of the additional view template if it exists\r\n * * $fieldErrors - a map of validation errors returned by the server\r\n *\r\n * Common functions include:\r\n * * save - the save function to update / create an object\r\n * * edit - a function to switch from view to edit mode\r\n * * cancelEdit - a function to switch from edit to view mode (discarding all changes)\r\n * * add - a function to switch into edit mode of a new object\r\n * * remove - a function to delete the current object\r\n * * title - a function to resolve a 'title' of the current object\r\n *\r\n * @param {object} $scope DOCTODO\r\n * @param {object} $state DOCTODO\r\n * @param {object} $stateParams DOCTODO\r\n * @param {object} $location DOCTODO\r\n * @param {object} $window DOCTODO\r\n * @param {object} $globalMessages DOCTODO\r\n * @param {object} $controller DOCTODO\r\n * @param {object} $log DOCTODO\r\n * @param {object} catBreadcrumbsService DOCTODO\r\n * @param {Object} config holds data like the current api endpoint, template urls, base url, the model constructor, etc.\r\n */\r\nfunction CatBaseDetailController($scope, $state, $stateParams, $location, $window, $globalMessages, $controller, $log, catBreadcrumbsService, config) {\r\n    $scope.detail = config.detail;\r\n    $scope.editDetail = undefined;\r\n    $scope.$fieldErrors = {};\r\n\r\n    $scope.config = config;\r\n    var endpoint = config.endpoint;\r\n    var baseUrl = config.baseUrl;\r\n    var templateUrls = config.templateUrls;\r\n    var Model = config.Model;\r\n\r\n    $scope.uiStack = catBreadcrumbsService.generateFromConfig(config);\r\n\r\n    if ($stateParams.id === 'new') {\r\n        catBreadcrumbsService.push({\r\n            title: 'New',\r\n            key: 'cc.catalysts.general.new'\r\n        });\r\n    } else {\r\n        catBreadcrumbsService.push({});\r\n    }\r\n\r\n    $scope.editTemplate = templateUrls.edit;\r\n\r\n    if (_.isObject(templateUrls.view)) {\r\n        $scope.mainViewTemplate = templateUrls.view.main;\r\n        $scope.additionalViewTemplate = templateUrls.view.additional;\r\n    } else {\r\n        $scope.mainViewTemplate = templateUrls.view;\r\n    }\r\n\r\n    $scope.baseUrl = baseUrl;\r\n\r\n    /**\r\n     * @returns {String|Number} A title of the current object or the 'id' as fallback\r\n     */\r\n    $scope.title = function () {\r\n        var data = $scope.detail;\r\n        if (_.isUndefined(data)) {\r\n            return '';\r\n        }\r\n        return !!data.breadcrumbTitle ? data.breadcrumbTitle() : (!!data.name ? data.name : data.id);\r\n    };\r\n\r\n    var update = function () {\r\n        catBreadcrumbsService.replaceLast({\r\n            title: $scope.title()\r\n        });\r\n    };\r\n\r\n    /**\r\n     * reloads the current object from the server\r\n     */\r\n    $scope.reloadDetails = function () {\r\n        endpoint.get($stateParams.id).then(function (data) {\r\n            $scope.detail = data;\r\n            update();\r\n        });\r\n    };\r\n\r\n    $scope.exists = !!$stateParams.id && $stateParams.id !== 'new';\r\n\r\n    /**\r\n     * Creates a new copy of the given model and sets its parent if applicable.\r\n     * Triggers a switch into the edit mode\r\n     */\r\n    $scope.add = function () {\r\n        $scope.editDetail = new Model();\r\n        if (_.isFunction($scope.editDetail.setParent)) {\r\n            $scope.editDetail.setParent(config.parents[0]);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Creates a copy of the current object and triggers a switch into edit mode\r\n     */\r\n    $scope.edit = function () {\r\n        $scope.editDetail = angular.copy($scope.detail);\r\n        if (_.isFunction($scope.editDetail.setParent)) {\r\n            $scope.editDetail.setParent(config.parents[0]);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Either cancels the current edit of an object by resetting it or triggers a history back event if the 'new' mode\r\n     * is active\r\n     */\r\n    $scope.cancelEdit = function () {\r\n        $scope.$broadcast('formReset');\r\n        if ($scope.exists) {\r\n            $scope.editDetail = undefined;\r\n            $globalMessages.clearMessages();\r\n            $scope.$fieldErrors = undefined;\r\n        } else {\r\n            $window.history.back();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Calls the remove function of the current endpoint and redirects to the given baseUrl upon success\r\n     */\r\n    $scope.remove = function () {\r\n        endpoint.remove($scope.detail.id).then(function () {\r\n            if (_.isEmpty($scope.uiStack)) {\r\n                $state.go('^.list');\r\n            } else {\r\n                var parentUrl = $scope.uiStack[$scope.uiStack.length - 1].url;\r\n                $location.path(parentUrl.substring(1, parentUrl.indexOf('?')));\r\n                $location.search('tab', endpoint.getEndpointName());\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Calls the save function of the current endpoint.\r\n     * Upon success the view mode of the details of the currently created / updated object will be shown.\r\n     * Upon an error the reported errors (global & field errors) will be shown to the user and the edit mode\r\n     * will remain active.\r\n     *\r\n     * * @param {object} stayInEdit If true the view stays in detail edit state after save instead of switching to\r\n     *                              detail view state.\r\n     */\r\n    $scope.save = function (stayInEdit) {\r\n        // When passing data to an asynchronous method, it makes sense to clone it.\r\n        endpoint.save(angular.copy($scope.editDetail)).then(function (data) {\r\n            $globalMessages.clearMessages();\r\n            $scope.$fieldErrors = undefined;\r\n            if (stayInEdit){\r\n                $scope.editDetail = data;\r\n                // Refresh-Breadcrumb:\r\n                $scope.reloadDetails();\r\n            } else {\r\n                if (!$scope.exists) {\r\n                    $scope.$broadcast('formReset');\r\n                    $state.go('.', {id: data.id});\r\n                } else {\r\n                    $scope.editDetail = undefined;\r\n                    $scope.detail = data;\r\n                    update();\r\n                }\r\n            }\r\n        }, function (response) {\r\n            if (!response.data.fieldErrors) {\r\n                $scope.$fieldErrors = undefined;\r\n                return;\r\n            }\r\n            // group by field\r\n            var fieldErrors = {};\r\n            _.forEach(response.data.fieldErrors, function (fieldError) {\r\n                fieldErrors[fieldError.field] = fieldErrors[fieldError.field] || [];\r\n                fieldErrors[fieldError.field].push(fieldError.message);\r\n            });\r\n\r\n            $scope.$fieldErrors = fieldErrors;\r\n            $scope.$broadcast('fieldErrors', fieldErrors);\r\n        });\r\n    };\r\n\r\n    // TABS\r\n    $scope.baseTabsController = ['$scope', function ($tabsScope) {\r\n        $controller('CatBaseTabsController', {\r\n            $scope: $tabsScope,\r\n            config: config\r\n        });\r\n    }];\r\n\r\n    try {\r\n        // extend with custom controller\r\n        $controller(config.controller, {\r\n            $scope: $scope,\r\n            detail: config.detail,\r\n            parents: config.parents,\r\n            config: config\r\n        });\r\n    } catch (unused) {\r\n        $log.info('Couldn\\'t instantiate controller with name ' + config.controller);\r\n    }\r\n\r\n    if ($scope.exists) {\r\n        update();\r\n    } else {\r\n        $scope.edit();\r\n    }\r\n}\r\n\r\nangular.module('cat.controller.base.detail').controller('CatBaseDetailController', CatBaseDetailController);","'use strict';\r\n\r\nangular.module('cat.controller.base.list')\r\n\r\n/**\r\n * @ngdoc controller\r\n * @name cat.controller.base.list:CatBaseListController\r\n *\r\n * @description\r\n * The CatBaseListController takes care of providing several common properties to the scope\r\n * of every list page. It also instantiates the controller given via the config.controller parameter and shares\r\n * the same scope with it. In addition it has a common template 'cat-base-list.tpl.html' which shows a title,\r\n * new button and provides the cat-paginated directive.\r\n *\r\n * Common properties include:\r\n * * listData - the listData to be used by cat-paginated\r\n * * title - the title of the view\r\n * * searchProps - the list of search properties passed on to the cat-paginated directive\r\n * * config - the config object used to instantiate this view\r\n *\r\n * @param {object} $scope scope\r\n * @param {object} $controller controller\r\n * @param {object} $log log\r\n * @param {object} catBreadcrumbsService catBreadcrumbsService\r\n * @param {object} catListDataLoadingService catListDataLoadingService\r\n * @param {object} config holds data like the listData object, the template url, base url, the model constructor, etc.\r\n */\r\n    .controller('CatBaseListController',\r\n    ['$scope', '$controller', '$log', 'catBreadcrumbsService', 'catListDataLoadingService', 'config', CatBaseListController]);\r\n\r\nfunction CatBaseListController($scope, $controller, $log, catBreadcrumbsService, catListDataLoadingService, config) {\r\n    if (!_.isUndefined(config.listData)) {\r\n        this.titleKey = 'cc.catalysts.cat-breadcrumbs.entry.' + config.listData.endpoint.getEndpointName();\r\n\r\n        catBreadcrumbsService.set([\r\n            {\r\n                title: config.title,\r\n                key: this.titleKey\r\n            }\r\n        ]);\r\n\r\n        $scope.listData = config.listData;\r\n    } else {\r\n        $log.warn('No listData available!');\r\n    }\r\n\r\n    this.title = config.title;\r\n    this.searchProps = config.searchProps;\r\n    this.config = config;\r\n\r\n    this.getUrlForId = function (id) {\r\n        return '#' + config.baseUrl + '/' + id;\r\n    };\r\n\r\n    this.getUrlForNewPage = function () {\r\n        return this.getUrlForId('new');\r\n    };\r\n\r\n    this.remove = function(id) {\r\n        config.listData.endpoint.remove(id)\r\n            .then(function() {\r\n                catListDataLoadingService.load(config.listData.endpoint, config.listData.searchRequest).then(\r\n                    function (data) {\r\n                        _.assign($scope.listData, data);\r\n                    }\r\n                );\r\n            });\r\n    };\r\n\r\n    try {\r\n        // extend with custom controller\r\n        $controller(config.controller, {$scope: $scope, listData: config.listData, config: config});\r\n    } catch (unused) {\r\n        $log.info('Couldn\\'t instantiate controller with name ' + config.controller);\r\n    }\r\n}\r\n","'use strict';\r\n\r\nangular.module('cat.controller.base.tabs').controller('CatBaseTabsController', CatBaseTabsController);\r\n\r\n/**\r\n * @ngdoc controller\r\n * @name cat.controller.base.tabs:CatBaseTabsController\r\n *\r\n */\r\nfunction CatBaseTabsController($scope, $controller, $stateParams, $location, config) {\r\n    var endpoint = config.endpoint;\r\n\r\n    $scope.tabs = config.tabs;\r\n    $scope.tabNames = _.map(config.tabs, 'name');\r\n    $scope.activeTab = {};\r\n\r\n    $scope.activateTab = function (tab) {\r\n        $scope.$broadcast('tab-' + tab + '-active');\r\n        _.forEach($scope.tabs, function (currentTab) {\r\n            $scope.activeTab[currentTab.name] = false;\r\n        });\r\n        $scope.activeTab[tab] = true;\r\n    };\r\n\r\n    $scope.selectTab = function (tabName) {\r\n        if (_.isUndefined($location.search().tab) && tabName === $scope.tabNames[0]) {\r\n            // don't add 'default' tab to url\r\n            return;\r\n        }\r\n        $location.search('tab', tabName);\r\n    };\r\n\r\n    var isTabActive = function (tab) {\r\n        if (tab.name === $scope.tabNames[0] && _.isUndefined($stateParams.tab)) {\r\n            // first tab is active if no parameter is given\r\n            return true;\r\n        }\r\n        return $stateParams.tab === tab.name;\r\n    };\r\n\r\n    $scope.$watchCollection(function () {\r\n        return $location.search();\r\n    }, function (newValue) {\r\n        if (_.isString(newValue.tab)) {\r\n            $scope.activateTab(newValue.tab);\r\n        } else if (_.isUndefined(newValue.tab)) {\r\n            // activate first tab if undefined\r\n            $scope.activateTab($scope.tabNames[0]);\r\n        }\r\n    });\r\n\r\n    $scope.getTabName = function (tab) {\r\n        return window.cat.util.pluralize(window.cat.util.capitalize(tab));\r\n    };\r\n\r\n    _.forEach($scope.tabs, function (tab) {\r\n        $scope.activeTab[tab.name] = isTabActive(tab);\r\n    });\r\n\r\n    // TODO replace by url resolver service as soon as it is available\r\n    var parentUrl = endpoint.getEndpointName();\r\n    var parentTemplateNamePrefix = endpoint.getEndpointName();\r\n\r\n    var currentEndpoint = endpoint;\r\n\r\n    while (!_.isUndefined(currentEndpoint.parentEndpoint)) {\r\n        currentEndpoint = endpoint.parentEndpoint;\r\n        var parentEndpointName = currentEndpoint.getEndpointName();\r\n\r\n        parentUrl = parentEndpointName + '/' + parentUrl;\r\n\r\n        parentTemplateNamePrefix = parentEndpointName + '-' + parentTemplateNamePrefix;\r\n    }\r\n\r\n    $scope.getTabTemplate = function (tab) {\r\n        return parentUrl + '/' + tab + '/' + parentTemplateNamePrefix + '-' + tab + '-list.tpl.html';\r\n    };\r\n\r\n    var _getDefaultTabControllerName = function (tab) {\r\n        return window.cat.util.capitalize(endpoint.getEndpointName()) + window.cat.util.capitalize(tab.name) + 'Controller';\r\n    };\r\n\r\n    var _getTabControllerName = function (tab) {\r\n        if (!!tab.controller) {\r\n            return tab.controller;\r\n        }\r\n\r\n        return _getDefaultTabControllerName(tab);\r\n    };\r\n\r\n    var tabIndex = 0;\r\n\r\n    $scope.tabController = ['$scope', 'catListDataLoadingService', function ($tabScope, catListDataLoadingService) {\r\n        var activeTab = $scope.tabs[tabIndex++];\r\n        var tabControllerName = _getTabControllerName(activeTab);\r\n\r\n        $tabScope.getSearchRequest = function () {\r\n            return new window.cat.SearchRequest();\r\n        };\r\n\r\n        $tabScope.getEndpoint = function () {\r\n            return config.detail[activeTab.name];\r\n        };\r\n\r\n        $tabScope.loadListData = function () {\r\n            catListDataLoadingService.load($tabScope.getEndpoint(), $tabScope.getSearchRequest()).then(function (data) {\r\n                $tabScope.listData = data;\r\n            });\r\n        };\r\n\r\n        $tabScope.$on('tab-' + activeTab.name + '-active', function () {\r\n            if (_.isUndefined($scope.listData)) {\r\n                $tabScope.loadListData();\r\n            }\r\n        });\r\n\r\n        $controller(tabControllerName, {\r\n            $scope: $tabScope,\r\n            detail: config.detail,\r\n            parents: config.parents,\r\n            config: config\r\n        });\r\n\r\n        if ($scope.activeTab[activeTab.name] === true) {\r\n            $scope.activateTab(activeTab.name);\r\n        }\r\n    }];\r\n}","'use strict';\r\n\r\nfunction CatSelectLink(scope, element) {\r\n    element.addClass('form-control');\r\n}\r\n\r\nvar fetchElements = function (endpoint, sort) {\r\n    return function (queryParams) {\r\n        var searchRequest = new window.cat.SearchRequest(queryParams.data);\r\n        searchRequest.sort(sort || { property: 'name', isDesc: false });\r\n        return endpoint.list(searchRequest).then(queryParams.success);\r\n    };\r\n};\r\n\r\nfunction CatSelectController($scope, $log, catApiService, catSelectConfigService) {\r\n\r\n    var options = catSelectConfigService.getConfig($scope.config, $scope.options);\r\n\r\n    if (_.isUndefined(options)) {\r\n        throw new Error('At least one of \"config\" or \"options\" has to be specified');\r\n    }\r\n\r\n    var transport,\r\n        quietMillis,\r\n        searchRequestFunc = options.search || function (term, page) {\r\n            return {\r\n                'search.name': term,\r\n                page: page\r\n            };\r\n        },\r\n        filterFunc = options.filter || function (term) {\r\n            return true;\r\n        };\r\n    if (_.isArray(options.endpoint)) {\r\n        transport = function (queryParams) {\r\n            return queryParams.success({\r\n                elements: options.endpoint\r\n            });\r\n        };\r\n        quietMillis = 0;\r\n    } else if (_.isFunction(options.endpoint)) {\r\n        transport = options.endpoint;\r\n        quietMillis = 500;\r\n    } else if (_.isObject(options.endpoint)) {\r\n        transport = fetchElements(options.endpoint, options.sort);\r\n        quietMillis = 500;\r\n    } else if (_.isString(options.endpoint)) {\r\n        var api = catApiService[options.endpoint];\r\n        if (!api) {\r\n            $log.error('No api endpoint \"' + options.endpoint + '\" defined');\r\n            $scope.elements = [];\r\n            return;\r\n        }\r\n        transport = fetchElements(api, options.sort);\r\n        quietMillis = 500;\r\n    } else {\r\n        $log.error('The given endpoint has to be one of the following types: array, object, string or function - but was ' + (typeof options.endpoint));\r\n        $scope.elements = [];\r\n        return;\r\n    }\r\n\r\n    $scope.selectOptions = _.assign({\r\n        placeholder: ' ', // space in default placeholder is required, otherwise allowClear property does not work\r\n        minimumInputLength: 0,\r\n        adaptDropdownCssClass: function (cssClass) {\r\n            if (_.contains(['ng-valid', 'ng-invalid', 'ng-pristine', 'ng-dirty'], cssClass)) {\r\n                return cssClass;\r\n            }\r\n            return null;\r\n        },\r\n        ajax: {\r\n            data: searchRequestFunc,\r\n            quietMillis: quietMillis,\r\n            transport: transport,\r\n            results: function (data, page) {\r\n                var more = (page * options.size || 100) < data.totalCount;\r\n                return {\r\n                    results: _.filter(data.elements, filterFunc),\r\n                    more: more\r\n                };\r\n            }\r\n        },\r\n        formatResult: function (element) {\r\n            return element.name;\r\n        },\r\n        formatSelection: function (element) {\r\n            return element.name;\r\n        }\r\n    }, options['ui-select2']);\r\n}\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name cat.directives.select:catSelect\r\n * @scope\r\n * @restrict EA\r\n *\r\n * @description\r\n * The 'cat-select' directive is a wrapper around the 'ui-select2' directive which adds support for using an api\r\n * endpoint provided by catApiService. There exist 2 supported ways of configuration:\r\n * - The 'config' attribute: This represents a named configuration which will be retrieved from the catSelectConfigService\r\n * - The 'options' attribute: Here the options object can directly be passed in\r\n *\r\n * The 2 different approaches exist to easily reuse certain options, as the named config is seen as 'default' and all\r\n * values which are provided via the options object will be overridden.\r\n *\r\n * An config / options object has the following properties:\r\n * - endpoint: This can either be an array, in which case it will directly be treated as the source, an endpoint name\r\n * or an endpoint object to call the given endpoint, or a function which is used as the 'transport' function\r\n * - sort: An object which defines the 'sort' property and direction used when retrieving the list from an endpoint\r\n * - ui-select2: An config object which supports all options provided by the 'ui-select2' directive\r\n *\r\n * TODO fix returns doc (not the correct format)\r\n * returns {{\r\n *      restrict: {string},\r\n *      replace: {boolean},\r\n *      priority: {number},\r\n *      scope: {\r\n *          options: {string},\r\n *          id: {string},\r\n *          config: {string}\r\n *      },\r\n *      link: {CatSelectLink},\r\n *      controller: {CatSelectController},\r\n *      template: {string}\r\n * }}\r\n * @constructor\r\n */\r\nfunction CatSelectDirective() {\r\n    return {\r\n        restrict: 'EA',\r\n        replace: true,\r\n        priority: 1,\r\n        scope: {\r\n            options: '=?',\r\n            id: '@',\r\n            config: '@?'\r\n        },\r\n        link: CatSelectLink,\r\n        controller: CatSelectController,\r\n        template: '<input type=\"text\" ui-select2=\"selectOptions\">'\r\n    };\r\n}\r\n\r\nangular.module('cat.directives.select')\r\n    .directive('catSelect', CatSelectDirective);\r\n","'use strict';\r\n\r\n/**\r\n * @name CatApiEndpoint\r\n *\r\n * @description\r\n * A CatApiEndpoint wraps several helper functions to easily execute backend calls for the base CRUD operations.\r\n * It also adds support for 'children' which can only be used by resolving them for a parent id.\r\n * @param {string} url the base url which is added before the configured urls\r\n * @param {object} endpointConfig the configuration of this endpoint - holds properties like name, url, the model and children\r\n * @param {object} $http the angular $http service which handles the actual xhr requests\r\n * @param {object} catConversionService the catConversionService used to convert from and to server side data\r\n * @constructor\r\n */\r\nfunction CatApiEndpoint(url, endpointConfig, $http, catConversionService) {\r\n    var that = this;\r\n\r\n    var _endpointName = endpointConfig.name;\r\n    var config = endpointConfig.config;\r\n    var _endpointUrl = url + (config.url || endpointConfig.name);\r\n    var _childEndpointSettings = endpointConfig.children;\r\n\r\n    /**\r\n     * This helper function initializes all configured child endpoints by creating the appropriate url by appending\r\n     * the given id before initializing them.\r\n     * @return {object} a object holding all resolved child endpoints for the given id\r\n     * @private\r\n     */\r\n    var _res = _.memoize(function (id) {\r\n        var url = _endpointUrl + '/' + id + '/';\r\n        var ret = {};\r\n        _.forEach(_.keys(_childEndpointSettings), function (path) {\r\n            ret[path] = new CatApiEndpoint(url, _childEndpointSettings[path], $http, catConversionService);\r\n            ret[path].parentEndpoint = that;\r\n            ret[path].parentId = id;\r\n            ret[path].parentInfo = function () {\r\n                return that.info(id);\r\n            };\r\n        });\r\n        return ret;\r\n    });\r\n\r\n    var _addChildEndpoints = function (data) {\r\n        _.merge(data, _res(data.id));\r\n    };\r\n\r\n    /**\r\n     * This helper method initializes a new instance of the configured model with the given data and adds all child\r\n     * endpoints to it.\r\n     * @param data the data received from the backend which is used to initialize the model\r\n     * @return {Object} an instance of the configured model initialized with the given data and the resolved child\r\n     * endpoints\r\n     * @private\r\n     */\r\n    var _mapResponse = function (data) {\r\n        var object = catConversionService.toClient(data, config);\r\n\r\n        if (!_.isUndefined(object.id)) {\r\n            _addChildEndpoints(object);\r\n        }\r\n\r\n        if (_.isArray(object)) {\r\n            _.forEach(object, _addChildEndpoints);\r\n        }\r\n\r\n        if (_.isArray(object.elements)) {\r\n            _.forEach(object.elements, _addChildEndpoints);\r\n        }\r\n\r\n        return object;\r\n    };\r\n\r\n    /**\r\n     * This helper methods deletes all child endpoints from the given object.\r\n     * @param {object} object the object to remove the child endpoints from\r\n     * @return {object} the passed in object without the child endpoints\r\n     * @private\r\n     */\r\n    var _removeEndpoints = function (object) {\r\n        var endpoints = _res(object.id);\r\n        _.forEach(_.keys(endpoints), function (key) {\r\n            delete object[key];\r\n        });\r\n        return object;\r\n    };\r\n\r\n    /**\r\n     * This helper method turns a cat.SearchRequest in to en url encoded search query\r\n     * @param {window.cat.SearchRequest} [searchRequest] the search request which should be url encoded\r\n     * @return {string} either the url encoded search query or an empty string if no search request is given or it is not a instance of cat.SearchRequest\r\n     * @private\r\n     */\r\n    var _getSearchQuery = function (searchRequest) {\r\n        return !!searchRequest && searchRequest instanceof window.cat.SearchRequest ? '?' + searchRequest.urlEncoded() : '';\r\n    };\r\n\r\n    /**\r\n     * This method is used to instantiate actual child api endpoints which are dependent on a certain parent id\r\n     * @param id the id for which to 'resolve' the child endpoints.\r\n     * @return {object} a object which maps all child endpoint names to the actual endpoints where the url was resolved\r\n     * with the provided id\r\n     */\r\n    this.res = function (id) {\r\n        return _res(id);\r\n    };\r\n\r\n    /**\r\n     * A small helper function to retrieve the actual url this endpoint resolved to.\r\n     * @return {string} the resolved url of this endpoint\r\n     */\r\n    this.getEndpointUrl = function () {\r\n        return _endpointUrl;\r\n    };\r\n\r\n    /**\r\n     * A small helper to retrieve the name of the endpoint.\r\n     * @return {string} the name of this endpoint\r\n     */\r\n    this.getEndpointName = function () {\r\n        return _endpointName;\r\n    };\r\n\r\n    /**\r\n     * This function calls the url available via #getEndpointUrl without further modification apart from adding search\r\n     * parameters if the searchRequest parameter is provided. It can handle either an array response in which case all\r\n     * elements will be mapped to the appropriate configured model or a 'paginated' result in which case an object\r\n     * with totalCount, facests and elements will be returned.\r\n     *\r\n     * @param {SearchRequest} [searchRequest] if given searchRequest#urlEncoded() will be added to the request url\r\n     * @return {[{object}]|{totalCount: {Number}, facets: [{Facet}], elements: []}} a promise wrapping either a list of\r\n     * instances of the configured model or a wrapper object which holds not only the list but pagination information\r\n     * as well\r\n     */\r\n    this.list = function (searchRequest) {\r\n        return $http.get(_endpointUrl + _getSearchQuery(searchRequest)).then(function (response) {\r\n            return _mapResponse(response.data);\r\n        });\r\n    };\r\n\r\n    /**\r\n     * A helper function which adds '/all' to the request url available via #getEndpointUrl and maps the response to\r\n     * the configured model.\r\n     * @return [{object}] a promise wrapping an array of new instances of the configured model initialized with the data retrieved from\r\n     * the backend\r\n     */\r\n    this.all = function () {\r\n        return $http.get(_endpointUrl + '/all').then(function (response) {\r\n            return _.map(response.data, function (elem) {\r\n                return _mapResponse(elem);\r\n            });\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method makes a GET request to the url available via #getEndpointUrl with the addition of the provided id at the end.\r\n     * @param id the id which will be appended as '/:id' to the url\r\n     * @return {object} a promise wrapping a new instance of the configured model initialized with the data retrieved\r\n     * from the backend\r\n     */\r\n    this.get = function (id) {\r\n        return $http.get(_endpointUrl + '/' + id).then(function (response) {\r\n            return _mapResponse(response.data);\r\n        });\r\n    };\r\n\r\n\r\n    /**\r\n     * This method makes a GET the url available via #getEndpointUrl with the addition of the provided id at the end + the\r\n     * 'info' request parameter.\r\n     * @param id the id which will be appended as '/:id' to the url\r\n     * @return {*} a promise wrapping the data retrieved from the backend\r\n     */\r\n    this.info = function (id) {\r\n        return $http.get(_endpointUrl + '/' + id + '?info').then(function (response) {\r\n            return response.data;\r\n        });\r\n    };\r\n\r\n\r\n    /**\r\n     * This method is either makes a PUT or POST request to the backend depending on wheter or not the given object\r\n     * has an 'id' attribute.\r\n     * For PUT requests the url resolves to #getEndpointUrl + /:id, for POST requests it is just the #getEndpointUrl\r\n     * @param {object} object the object which should be sent to the sever. it is stripped of all child endpoints before\r\n     * it is sent.\r\n     * @return {object} a promise wrapping a new instance of the configured model initialized with the data retrieved\r\n     * from the backend\r\n     */\r\n    this.save = function (object) {\r\n        if (!!object.id) {\r\n            return $http.put(_endpointUrl + '/' + object.id, _removeEndpoints(object)).then(function (response) {\r\n                return _mapResponse(response.data);\r\n            });\r\n        } else {\r\n            return $http.post(_endpointUrl, _removeEndpoints(object)).then(function (response) {\r\n                return _mapResponse(response.data);\r\n            });\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method executes a DELETE request to the url available via #getEndpointUrl with the addition of the provided url at the end.\r\n     * @param url the url to be appended to the endpoint url - usually only the id of the object to delete\r\n     * @return {*} The promise returned by the $http 'DELETE' call\r\n     */\r\n    this.remove = function (url) {\r\n        return $http({method: 'DELETE', url: _endpointUrl + '/' + url});\r\n    };\r\n\r\n    /**\r\n     * Simple wrapper object which contains the custom get, put and post methods\r\n     * @type {{}}\r\n     */\r\n    this.custom = {};\r\n\r\n    /**\r\n     * This method executes a GET request to the url available via #getEndpointUrl joined with the provided one.\r\n     * Be aware that the result of the promise will not be mapped to the configured model but instead will be passed on directly.\r\n     * @param url the url to be appended to the endpoint url\r\n     * @param searchRequest an optional cat.SearchRequest to be applied to the request\r\n     * @return {*} The promise returned by the $http.get call\r\n     */\r\n    this.custom.get = function (url, searchRequest) {\r\n        return $http.get([_endpointUrl, url].join('/') + _getSearchQuery(searchRequest));\r\n    };\r\n\r\n    /**\r\n     * This method executes a POST request to the url available via #getEndpointUrl joined with the provided one.\r\n     * Be aware that the result of the promise will not be mapped to the configured model but instead will be passed on directly.\r\n     * @param url the url to be appended to the endpoint url\r\n     * @param object hte object to send as payload - not that it will be used as is for this request\r\n     * @return {*} The promise returned by the $http.post call\r\n     */\r\n    this.custom.post = function (url, object) {\r\n        return $http.post([_endpointUrl, url].join('/'), object);\r\n    };\r\n\r\n    /**\r\n     * This method executes a PUT request to the url available via #getEndpointUrl joined with the provided one.\r\n     * Be aware that the result of the promise will not be mapped to the configured model but instead will be passed on directly.\r\n     * @param url the url to be appended to the endpoint url\r\n     * @param object hte object to send as payload - not that it will be used as is for this request\r\n     * @return {*} The promise returned by the $http.put call\r\n     */\r\n    this.custom.put = function (url, object) {\r\n        return $http.put([_endpointUrl, url].join('/'), object);\r\n    };\r\n}\r\n\r\n/**\r\n * @ngdoc service\r\n * @name EndpointConfig\r\n *\r\n * @description\r\n * An 'EndpointConfig' basically is a wrapper around the configuration for an api endpoint during the configuration\r\n * phase which is later used to instantiate the actual CatApiEndpoints. It exposes its name, the configuration itself,\r\n * as well as a map of all its children and helper function to create or receive child endpoint configurations.\r\n *\r\n * @param {string} name the name of the endpoint\r\n * @param {object} config the api endpoint configuration which basically wraps an 'url' and a 'model' attribute.\r\n * If a 'children' attribute is present as well it will be used to create the appropriate child endpoints automatically,\r\n * without the need to call the #child method manually - this works to arbitrary deps.\r\n * @constructor\r\n */\r\nfunction EndpointConfig(name, config) {\r\n    var that = this;\r\n    this.config = config || {};\r\n    this.children = {};\r\n    this.name = name;\r\n\r\n    /**\r\n     * This method method either returns or creates and returns a child api endpoint of the current one.\r\n     *\r\n     * @param {string} childName the name of the child endpoint\r\n     * @param {object} [childConfig] if given a new EndpointConfig will be created as a child of the current one. The\r\n     * parent property of the created config will point to the current config\r\n     * @return {EndpointConfig} the child endpoint config with the given name\r\n     */\r\n    this.child = function (childName, childConfig) {\r\n        if (!_.isUndefined(childConfig)) {\r\n            this.children[childName] = new EndpointConfig(childName, childConfig);\r\n            this.children[childName].parent = this;\r\n        }\r\n\r\n        return this.children[childName];\r\n    };\r\n\r\n    // this takes care of mapping the 'old' config style to the new builder style\r\n    if (!_.isUndefined(this.config.children)) {\r\n        var childrenConfig = this.config.children;\r\n        delete this.config.children;\r\n        _.forEach(_.keys(childrenConfig), function (childName) {\r\n            that.child(childName, childrenConfig[childName]);\r\n        });\r\n    }\r\n}\r\n\r\n// this is saved outside so that both $api and catApiService use the same config - will be moved back inside\r\n// CatApiServiceProvider in a future release\r\nvar _endpoints = {};\r\n\r\nfunction CatApiServiceProvider() {\r\n    var _urlPrefix = '/api/';\r\n\r\n    /**\r\n     * This method is used to either create or retrieve named endpoint configurations.\r\n     * @param {string} name the name of the api endpoint to create or retrieve the configuration for\r\n     * @param {object} [settings] if given a new {EndpointConfig} will be created with the given settings\r\n     * @return {EndpointConfig} the endpoint config for the given name\r\n     */\r\n    this.endpoint = function (name, settings) {\r\n        if (!_.isUndefined(settings)) {\r\n            _endpoints[name] = new EndpointConfig(name, settings);\r\n        }\r\n        return _endpoints[name];\r\n    };\r\n\r\n\r\n    this.$get = ['$http', 'catConversionService',\r\n        /**\r\n         * @return {object} returns a map from names to CatApiEndpoints\r\n         */\r\n            function $getCatApiService($http, catConversionService) {\r\n            var catApiService = {};\r\n\r\n            var dynamicEndpoints = {};\r\n\r\n            /**\r\n             * This method allows to define (dynamic) endpoints after the configuration phase.\r\n             * @param {string} name (optional the name of the api endpoint to create or retrieve the configuration for\r\n             * @param {object} [settings] if given a new {EndpointConfig} will be created with the given settings\r\n             * @returns {CatApiEndpoint}\r\n             */\r\n            catApiService.dynamicEndpoint = function (name, settings) {\r\n                if (typeof name === 'object' && _.isUndefined(settings)) {\r\n                    settings = name;\r\n                    name = settings.url;\r\n                }\r\n                if (_.isUndefined(dynamicEndpoints[name])) {\r\n                    if(_.isUndefined(settings)){\r\n                        throw new Error('Undefined dynamic endpoint settings');\r\n                    }\r\n                    dynamicEndpoints[name] = new CatApiEndpoint(_urlPrefix,\r\n                        new EndpointConfig(name, settings), $http, catConversionService);\r\n                }\r\n                return dynamicEndpoints[name];\r\n            };\r\n\r\n            _.forEach(_.keys(_endpoints), function (path) {\r\n                catApiService[path] = new CatApiEndpoint(_urlPrefix, _endpoints[path], $http, catConversionService);\r\n            });\r\n\r\n            return catApiService;\r\n        }];\r\n}\r\n\r\n/**\r\n * @ngdoc service\r\n * @name cat.service.api:$api\r\n *\r\n * @description\r\n * The CatApiServiceProvider exposes a single configuration method 'endpoint' which can be used to create or retrieve\r\n * named endpoint configurations.\r\n *\r\n * @constructor\r\n */\r\nangular.module('cat.service.api').provider('catApiService', CatApiServiceProvider);\r\n\r\n/**\r\n * @ngdoc service\r\n * @name cat.service.api:$api\r\n * @deprectaed use '$api'\r\n *\r\n * @description\r\n * deprectaed use '$api'\r\n * The CatApiServiceProvider exposes a single configuration method 'endpoint' which can be used to create or retrieve\r\n * named endpoint configurations.\r\n *\r\n * @constructor\r\n */\r\n// $api is deprecated, will be removed in a future release\r\nangular.module('cat.service.api').provider('$api', CatApiServiceProvider);\r\n","'use strict';\r\n\r\nangular.module('cat.service.breadcrumbs')\r\n\r\n/**\r\n * @ngdoc overview\r\n * @name cat.service.breadcrumbs:catBreadcrumbs\r\n */\r\n    .value('catBreadcrumbs', [])\r\n\r\n/**\r\n * @ngdoc service\r\n * @name cat.service.breadcrumbs:catBreadcrumbService\r\n * @service\r\n *\r\n * @description\r\n * This service is a simple wrapper around a list of Objects.\r\n * It provides some convenience methods for manipulating the list.\r\n * It's main purpose is to make breadcrumb handling less cumbersome.\r\n *\r\n * @constructor\r\n */\r\n    .service('catBreadcrumbsService', CatBreadcrumbsService);\r\n\r\nfunction CatBreadcrumbsService(catBreadcrumbs) {\r\n    var that = this;\r\n\r\n    this.clear = function () {\r\n        catBreadcrumbs.length = 0;\r\n    };\r\n\r\n    this.set = function (bcs) {\r\n        that.clear();\r\n        _.forEach(bcs, function (bc) {\r\n            catBreadcrumbs.push(bc);\r\n        });\r\n    };\r\n\r\n    this.get = function () {\r\n        return catBreadcrumbs;\r\n    };\r\n\r\n    this.addFirst = function (entry) {\r\n        catBreadcrumbs.unshift(entry);\r\n    };\r\n\r\n    this.removeFirst = function () {\r\n        return catBreadcrumbs.shift();\r\n    };\r\n\r\n    this.push = function (entry) {\r\n        catBreadcrumbs.push(entry);\r\n    };\r\n\r\n    this.pop = function () {\r\n        return catBreadcrumbs.pop();\r\n    };\r\n\r\n    this.length = function () {\r\n        return catBreadcrumbs.length;\r\n    };\r\n\r\n    function capitalize(string) {\r\n        return string.charAt(0).toUpperCase() + string.substring(1);\r\n    }\r\n\r\n    this.replaceLast = function (newVal) {\r\n        catBreadcrumbs[catBreadcrumbs.length - 1] = newVal;\r\n    };\r\n\r\n    function splitShiftAndJoin(path, amount) {\r\n        return _.initial(path.split('/'), amount).join('/');\r\n    }\r\n\r\n    /**\r\n     * This method auto-generates the breadcrumbs from a given view configuration\r\n     * @param {Object} config a config object as provided to CatBaseDetailController\r\n     * @return {Array} an array which represents the 'ui stack' of directly related parents\r\n     */\r\n    this.generateFromConfig = function (config) {\r\n        that.clear();\r\n        var uiStack = [];\r\n        if (!_.isUndefined(config.endpoint.parentEndpoint)) {\r\n            var currentEndpoint = config.endpoint;\r\n            var parentEndpoint = currentEndpoint.parentEndpoint;\r\n            var parentUrl = config.baseUrl;\r\n            var count = 0;\r\n\r\n            while (!_.isUndefined(parentEndpoint)) {\r\n                var parent = config.parents[count++];\r\n                parentUrl = splitShiftAndJoin(parentUrl, 1);\r\n\r\n                var detailBreadcrumb = {\r\n                    url: '#' + parentUrl + '?tab=' + currentEndpoint.getEndpointName(),\r\n                    title: parent.name\r\n                };\r\n                uiStack.unshift(detailBreadcrumb);\r\n                that.addFirst(detailBreadcrumb);\r\n\r\n                parentUrl = splitShiftAndJoin(parentUrl, 1);\r\n                var breadcrumb = {\r\n                    title: capitalize(window.cat.util.pluralize(parentEndpoint.getEndpointName())),\r\n                    key: 'cc.catalysts.cat-breadcrumbs.entry.' + config.endpoint.getEndpointName(),\r\n                    url: '#' + parentUrl\r\n                };\r\n                that.addFirst(breadcrumb);\r\n\r\n                currentEndpoint = parentEndpoint;\r\n                parentEndpoint = currentEndpoint.parentEndpoint;\r\n            }\r\n        } else {\r\n            that.push({\r\n                title: capitalize(window.cat.util.pluralize(config.endpoint.getEndpointName())),\r\n                key: 'cc.catalysts.cat-breadcrumbs.entry.' + config.endpoint.getEndpointName(),\r\n                url: '#' + config.baseUrl\r\n            });\r\n        }\r\n        return uiStack;\r\n    };\r\n}\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc service\r\n * @name catConversionService\r\n *\r\n * @description\r\n * This service handles the transformation between server and client side data.\r\n *\r\n * @constructor\r\n */\r\nfunction CatConversionService(catConversionFunctions) {\r\n    this.toClient = function (serverData, context) {\r\n        return catConversionFunctions.toClient(serverData, context);\r\n    };\r\n\r\n    this.toServer = function (clientData) {\r\n        return catConversionFunctions.toServer(clientData);\r\n    };\r\n}\r\n\r\nfunction _convertToClientModel(data, context) {\r\n    if (!_.isUndefined(context) && _.isFunction(context.model)) {\r\n        return new context.model(data);\r\n    }\r\n\r\n    return data;\r\n}\r\n\r\nfunction _convertToClientData(serverData, context) {\r\n    if (_.isUndefined(serverData)) {\r\n        return undefined;\r\n    }\r\n\r\n    if (_.isArray(serverData)) {\r\n        return _.map(serverData, function (data) {\r\n            return _convertToClientModel(data, context);\r\n        });\r\n    }\r\n\r\n    if (_.isNumber(serverData.totalCount)) {\r\n        var copy = _.clone(serverData);\r\n        var facets = [];\r\n\r\n        if (!!serverData.facets) {\r\n            facets = _.map(serverData.facets, function (facet) {\r\n                return new window.cat.Facet(facet);\r\n            });\r\n        }\r\n\r\n        var result = {\r\n            totalCount: serverData.totalCount,\r\n            facets: facets,\r\n            elements: _.map(serverData.elements, function (elem) {\r\n                return _convertToClientData(elem, context);\r\n            })\r\n        };\r\n\r\n        delete copy.totalCount;\r\n        delete copy.elements;\r\n        delete copy.facets;\r\n\r\n        return _.assign(result, copy);\r\n    }\r\n\r\n    if (!_.isUndefined(context)) {\r\n        return _convertToClientModel(serverData, context);\r\n    }\r\n\r\n    return serverData;\r\n}\r\n\r\n\r\nangular.module('cat.service.conversion')\r\n    .value('catConversionFunctions', {\r\n        toClient: _convertToClientData,\r\n        toServer: function (clientData, context) {\r\n            return clientData;\r\n        }\r\n    })\r\n    .service('catConversionService', CatConversionService);","'use strict';\r\n\r\nangular.module('cat.service.i18n')\r\n/**\r\n * @ngdoc overview\r\n * @name cat.service.i18n:CAT_I18N_DEFAULT_LOCALE\r\n * @constant\r\n *\r\n * @description\r\n * The default locale used for message translation\r\n */\r\n    .constant('CAT_I18N_DEFAULT_LOCALE', 'de')\r\n\r\n/**\r\n * @ngdoc service\r\n * @name cat.service.i18n:catI18nLocaleService\r\n */\r\n    .service('catI18nLocaleService', ['$q', '$locale', 'CAT_I18N_DEFAULT_LOCALE', CatI18nLocaleService]);\r\n\r\n\r\nfunction CatI18nLocaleService($q, $locale, CAT_I18N_DEFAULT_LOCALE) {\r\n    this.getLanguageOfLocale = function (locale) {\r\n        if (_.isUndefined(locale)) {\r\n            return undefined;\r\n        }\r\n\r\n        if (locale.indexOf('-') !== -1) {\r\n            return locale.split('-')[0];\r\n        }\r\n\r\n        return locale;\r\n    };\r\n\r\n    this.getCurrentLocale = function () {\r\n        return $locale.id;\r\n    };\r\n\r\n    this.getDefaultLocale = function () {\r\n        return CAT_I18N_DEFAULT_LOCALE;\r\n    };\r\n}","'use strict';\r\n\r\nangular.module('cat.service.i18n')\r\n\r\n/**\r\n * @ngdoc service\r\n * @name cat.service.i18n:catI18nMessageSourceService\r\n * @service\r\n *\r\n * @description\r\n * A service to retrieve message templates for a given key and locale\r\n *\r\n *\r\n * @param {object} $q DOCTODO\r\n * @param {object} $$locale DOCTODO\r\n * @param {string} $CAT_I18N_DEFAULT_LOCALE DOCTODO\r\n * @constructor\r\n */\r\n    .service('catI18nMessageSourceService', ['$q', 'catI18nLocaleService', 'CAT_I18N_DEFAULT_LOCALE', CatI18nMessageSourceService]);\r\n\r\nfunction CatI18nMessageSourceService($q, catI18nLocaleService, CAT_I18N_DEFAULT_LOCALE) {\r\n    function _getLocale(locale) {\r\n        return locale || catI18nLocaleService.getDefaultLocale();\r\n    }\r\n\r\n    function _getMessages(locale) {\r\n        var localeId = _getLocale(locale);\r\n\r\n        var messages = window.cat.i18n[localeId];\r\n        if (_.isUndefined(messages)) {\r\n            messages = _getMessages(catI18nLocaleService.getLanguageOfLocale(localeId));\r\n        }\r\n        if (localeId !== CAT_I18N_DEFAULT_LOCALE && _.isUndefined(messages)) {\r\n            messages = _getMessages(CAT_I18N_DEFAULT_LOCALE);\r\n        }\r\n\r\n        return messages;\r\n    }\r\n\r\n    /**\r\n     * @name catI18nMessageSourceService#getMessages\r\n     * @function\r\n     *\r\n     * @description\r\n     * Function which retrieves a message bundle for a given locale\r\n     *\r\n     * @param {String} [locale] the locale in which the messages should be retrieved\r\n     * @returns {Promise} a promise holding the retrieved message bundle\r\n     */\r\n    this.getMessages = function (locale) {\r\n        return $q.when(_getMessages(locale));\r\n    };\r\n\r\n    /**\r\n     * @name catI18nMessageSourceService#getMessage\r\n     * @function\r\n     *\r\n     * @description\r\n     * Function which retrieves a message for a given key and locale\r\n     *\r\n     * @param {String} key the key of the message to retrieve\r\n     * @param {String} [locale = CAT_I18N_DEFAULT_LOCALE] the locale in which the messages should be retrieved\r\n     * @returns {Promise} a promise holding the retrieved message\r\n     */\r\n    this.getMessage = function (key, locale) {\r\n        var bundle = _getMessages(locale);\r\n        if (_.isUndefined(bundle) || _.isUndefined(bundle[key])) {\r\n            return $q.reject('No message found for key \\'' + key + '\\' and the given locale \\'' + _getLocale(locale) + '\\'');\r\n        }\r\n        return $q.when(bundle[key]);\r\n    };\r\n\r\n\r\n    /**\r\n     * @name catI18nMessageSourceService#hasMessage\r\n     * @function\r\n     *\r\n     * @description\r\n     * Function which checks whether or not a message for a given key and locale exists\r\n     *\r\n     * @param {String} key the key of the message to retrieve\r\n     * @param {String} [locale = CAT_I18N_DEFAULT_LOCALE] the locale in which the messages should be available\r\n     * @returns {Promise} a promise holding <code>TRUE</code> if the key can be resolved for the given locale\r\n     */\r\n    this.hasMessage = function (key, locale) {\r\n        var bundle = _getMessages(locale);\r\n        return $q.when(!_.isUndefined(bundle) && !_.isUndefined(bundle[key]));\r\n    };\r\n}\r\n","/**\r\n * Created by tscheinecker on 21.10.2014.\r\n */\r\n'use strict';\r\n\r\nfunction CatI18nService($q, $log, catI18nMessageSourceService, catI18nMessageParameterResolver) {\r\n    var that = this;\r\n\r\n    /**\r\n     * @name catI18nService#translate\r\n     * @function\r\n     *\r\n     * @description\r\n     * Tries to resolve the given key to a message of the given locale. The messages are retrieved from the\r\n     * {@link catI18nMessageSourceService} and then passed through {@link catI18nMessageParameterResolver}.\r\n     *\r\n     * @param {String} key the key of the message to be translated\r\n     * @param {Object|Array} [parameters] message parameters usable in the resolved message\r\n     * @param {String} [locale = CAT_I18N_DEFAULT_LOCALE] the locale to use for translation\r\n     * @returns {Promise} Returns a promise of the translated key\r\n     */\r\n    this.translate = function (key, parameters, locale) {\r\n        var deferred = $q.defer();\r\n        var model = parameters;\r\n\r\n        if (_.isArray(parameters)) {\r\n            parameters.forEach(function (value, idx) {\r\n                model['p' + idx] = value;\r\n            });\r\n        }\r\n\r\n        that.canTranslate(key, locale).then(\r\n            function (canTranslate) {\r\n                if (canTranslate) {\r\n                    catI18nMessageSourceService.getMessage(key, locale).then(\r\n                        function (message) {\r\n                            try {\r\n                                deferred.resolve(catI18nMessageParameterResolver(message, model));\r\n                            } catch (e) {\r\n                                $log.warn(e);\r\n                                deferred.reject(e);\r\n                            }\r\n                        },\r\n                        function (reason) {\r\n                            $log.warn(reason);\r\n                            deferred.reject(reason);\r\n                        }\r\n                    );\r\n                } else {\r\n                    var reason = 'No translation for key \\'' + key + '\\' available!';\r\n                    $log.warn(reason);\r\n                    deferred.reject(reason);\r\n                }\r\n            },\r\n            deferred.reject\r\n        );\r\n        return deferred.promise;\r\n    };\r\n\r\n    /**\r\n     * @name catI18nService#canTranslate\r\n     * @function\r\n     *\r\n     * @description\r\n     * Wraps an object that might be a value or a (3rd party) then-able promise into a $q promise.\r\n     * This is useful when you are dealing with an object that might or might not be a promise, or if\r\n     * the promise comes from a source that can't be trusted.\r\n     *\r\n     * @param {String} key the key of the message to be translated\r\n     * @param {String} [locale] the locale to use for translation\r\n     * @returns {Promise} Returns a promise which resolves to true when a message for the given key exists for the\r\n     * specified locale\r\n     */\r\n    this.canTranslate = function (key, locale) {\r\n        var deferred = $q.defer();\r\n\r\n        catI18nMessageSourceService.getMessages(locale).then(\r\n            function (messages) {\r\n                deferred.resolve(!_.isUndefined(messages) && !_.isUndefined(messages[key]));\r\n            },\r\n            function (reason) {\r\n                $q.reject(reason);\r\n            }\r\n        );\r\n\r\n        return deferred.promise;\r\n    };\r\n}\r\n\r\nangular.module('cat.service.i18n')\r\n/**\r\n * @ngdoc service\r\n * @name cat.service.i18n:catI18nMessageParameterResolver\r\n * @value\r\n *\r\n * @description\r\n * A function which accepts a message and parameters and returns the resolved message\r\n */\r\n    .value('catI18nMessageParameterResolver', function (message, parameters) {\r\n        return _.template(message, parameters || {}, {interpolate: /{{([\\s\\S\\d]+?)}}/g});\r\n    })\r\n\r\n\r\n/**\r\n * @ngdoc service\r\n * @name cat.service.i18n:catI18nService\r\n * @service\r\n *\r\n * @description\r\n * A service to translate message keys to messages of specific locales\r\n *\r\n * @param {object} $q DOCTODO\r\n * @param {object} catI18nMessageSourceService DOCTODO\r\n * @param {object} catI18nMessageParameterResolver DOCTODO\r\n * @constructor\r\n */\r\n    .service('catI18nService', ['$q', '$log', 'catI18nMessageSourceService', 'catI18nMessageParameterResolver', CatI18nService]);\r\n","'use strict';\r\n\r\nangular.module('cat.service.route')\r\n\r\n/**\r\n * @ngdoc service\r\n * @name cat.service.route:catRouteService\r\n * @description\r\n * This service provider delegates to the $stateProvider and actually creates 2 separate routes after applying various\r\n * conventions / defaults\r\n */\r\n    .provider('catRouteService', CatRouteServiceProvider)\r\n    \r\n    .run(function($rootScope, $log, $globalMessages, catBreadcrumbsService) {\r\n        $rootScope.$on('$stateChangeError', function() {\r\n            var exception = arguments[arguments.length - 1];\r\n            $globalMessages.addMessage('warning', exception);\r\n            $log.warn(exception);\r\n        });\r\n        $rootScope.$on('$stateChangeSuccess', function() {\r\n            catBreadcrumbsService.clear();\r\n        });\r\n    });\r\n\r\nfunction CatRouteServiceProvider($stateProvider) {\r\n    var viewNames = [];\r\n\r\n    function _getListUrl(baseUrl, name, config) {\r\n        var listUrl = baseUrl + '/' + window.cat.util.pluralize(name.toLowerCase());\r\n\r\n        if (!!config && config.url) {\r\n            listUrl = baseUrl + '/' + config.url;\r\n        }\r\n\r\n        return listUrl;\r\n    }\r\n\r\n    function _registerAbstractState(url, name) {\r\n        $stateProvider\r\n            .state(name, {\r\n                abstract: true,\r\n                template: '<ui-view></ui-view>',\r\n                url: url\r\n            });\r\n    }\r\n\r\n    function _getStateName(name, config) {\r\n        if (!!config && !!config.parent) {\r\n            return config.parent + '.' + name;\r\n        }\r\n\r\n        return name;\r\n    }\r\n\r\n    function _registerDetailState(config, name) {\r\n        var stateName = _getStateName(name, config);\r\n        var detailConfig = _getDetailConfig(config, name);\r\n\r\n        $stateProvider\r\n            .state(stateName + '.detail', detailConfig);\r\n\r\n        if (!!config && config.additionalViewTemplate === 'tabs') {\r\n            $stateProvider\r\n                .state(stateName + '.tab', {\r\n                    abstract: true,\r\n                    template: '<ui-view></ui-view>',\r\n                    url: '/:' + name.toLowerCase() + 'Id'\r\n                });\r\n        }\r\n    }\r\n\r\n    function _registerListState(config, name) {\r\n        var stateName = _getStateName(name, config);\r\n        var listConfig = _getListConfig(config, name);\r\n        $stateProvider\r\n            .state(stateName + '.list', listConfig);\r\n    }\r\n\r\n    function _getDetailConfig(config, name) {\r\n        return window.cat.util.route.detail(_.assign({name: name}, config));\r\n    }\r\n\r\n    function _getListConfig(config, name) {\r\n        return window.cat.util.route.list(_.assign({name: name}, config));\r\n    }\r\n\r\n    /**\r\n     * This function creates route url via convention from the given parameters and passes them (together with the\r\n     * configuration) to the $stateProvider. The actual route configuration is received by passing the given one\r\n     * to #window.cat.util.route.detail\r\n     * @param {string} baseUrl the base url which will be prepended to all routes\r\n     * @param {string} name the name for which the routes will be created\r\n     * @param {Object} [config] the config object which wraps the configurations for the list and detail route\r\n     */\r\n    this.detailRoute = function (baseUrl, name, config) {\r\n        var stateName = _getStateName(name, config);\r\n        viewNames.push(stateName);\r\n\r\n        var listUrl = _getListUrl(baseUrl, name, config);\r\n\r\n        _registerAbstractState(listUrl, stateName);\r\n        _registerDetailState(config, name);\r\n    };\r\n\r\n    /**\r\n     * This function creates route urls via convention from the given parameters and passes them (together with the\r\n     * configuration) to the $stateProvider. The actual route configuration is received by passing the given one\r\n     * to #window.cat.util.route.list and #window.cat.util.route.detail\r\n     * @param {string} baseUrl the base url which will be prepended to all routes\r\n     * @param {string} name the name for which the routes will be created\r\n     * @param {Object} [config] the config object which wraps the configurations for the list and detail route\r\n     */\r\n    this.listAndDetailRoute = function (baseUrl, name, config) {\r\n        var stateName = _getStateName(name, config);\r\n        viewNames.push(stateName);\r\n        if (_.isUndefined(config)) {\r\n            config = {};\r\n        }\r\n\r\n        var listUrl = _getListUrl(baseUrl, name, config);\r\n\r\n        _registerAbstractState(listUrl, stateName);\r\n        _registerDetailState(config.details, name);\r\n        _registerListState(config.list, name);\r\n    };\r\n\r\n    /**\r\n     * This service simply exposes the created view and endpoint names, as the provider basically only delegates\r\n     * to the $stateProvider\r\n     * @return {Array} the registered view names\r\n     */\r\n    this.$get = function () {\r\n        return viewNames;\r\n    };\r\n}","'use strict';\r\n\r\nangular.module('cat.service.selectConfig').provider('catSelectConfigService', CatSelectConfigServiceProvider);\r\n\r\n\r\n/**\r\n * @ngdoc service\r\n * @name cat.service.selectConfig:catSelectConfigService\r\n * @constructor\r\n */\r\nfunction CatSelectConfigServiceProvider() {\r\n    var configs = {};\r\n\r\n    this.config = function (name, config) {\r\n        if (!_.isUndefined(config)) {\r\n            configs[name] = config;\r\n        }\r\n\r\n        return configs[name];\r\n    };\r\n\r\n    this.$get = function () {\r\n        return new CatSelectConfigService(configs);\r\n    };\r\n}\r\n\r\nfunction assignDeep(target, source) {\r\n    return _.assign(target, source, function (targetProperty, sourceProperty) {\r\n        if (_.isObject(targetProperty) && _.isObject(sourceProperty)) {\r\n            return assignDeep(targetProperty, sourceProperty);\r\n        }\r\n\r\n        return sourceProperty;\r\n    });\r\n}\r\n\r\nfunction CatSelectConfigService(configs) {\r\n    var _configs = configs;\r\n\r\n    this.getConfig = function (name, options) {\r\n        var config = configs[name];\r\n\r\n        if (_.isUndefined(config) && _.isUndefined(options)) {\r\n            return undefined;\r\n        }\r\n\r\n        return assignDeep(_.clone(config) || {}, options);\r\n    };\r\n}","'use strict';\r\n\r\nangular.module('cat.service.view').provider('catViewService', CatViewServiceProvider);\r\n\r\n/**\r\n * @ngdoc service\r\n * @name cat.service.view:catViewService\r\n * @description\r\n * This service provider can be used to initialize an api endpoint and the according detail and list routes by simply\r\n * providing a name and a config object.\r\n *\r\n * @param {CatRouteServiceProvider} catRouteServiceProvider DOCTODO\r\n * @param {CatApiServiceProvider} catApiServiceProvider DOCTODO\r\n * @constructor\r\n */\r\nfunction CatViewServiceProvider(catRouteServiceProvider, catApiServiceProvider) {\r\n    var viewNames = [];\r\n    var endpointNames = [];\r\n\r\n    /**\r\n     * This function registers a new api endpoint with catApiServiceProvider and a list and detail route with\r\n     * catRouteServiceProvider\r\n     * @param {string} baseUrl the base url which will be prepended to all generated route pats\r\n     * @param {string} name the name used as entry point to all routes and endpoint creations (camel cased)\r\n     * @param {object} [config] the config object which can in turn hold objects used for configuration of the endpoint,\r\n     * detail route or list route\r\n     */\r\n    this.listAndDetailView = function (baseUrl, name, config) {\r\n        var endpointName = name.toLowerCase();\r\n        var url = window.cat.util.pluralize(endpointName);\r\n\r\n        if (!!config) {\r\n            url = config.url || url;\r\n        }\r\n\r\n        var endpoint = {\r\n            model: window.cat.util.defaultModelResolver(name),\r\n            url: url\r\n        };\r\n\r\n        if (!!config) {\r\n            endpoint = _.assign(endpoint, config.endpoint);\r\n        }\r\n\r\n\r\n        viewNames.push(name);\r\n        endpointNames.push(endpointName);\r\n\r\n        catApiServiceProvider.endpoint(name.toLowerCase(), endpoint);\r\n        catRouteServiceProvider.listAndDetailRoute(baseUrl, name, config);\r\n    };\r\n\r\n    /**\r\n     * This service simply exposes the created view and endpoint names, as the provider basically only delegates\r\n     * to other service providers\r\n     * @return {{views: Array, endpoints: Array}}\r\n     */\r\n    this.$get = function () {\r\n        return {\r\n            views: viewNames,\r\n            endpoints: endpointNames\r\n        };\r\n    };\r\n}","'use strict';\r\n\r\nfunction MenuEntry(menuEntryId, options, parent) {\r\n    this.id = menuEntryId;\r\n    this.completeId = parent.completeId + '.' + this.id;\r\n    var _options = options;\r\n\r\n    this.getOptions = function () {\r\n        return _options;\r\n    };\r\n\r\n    this.isGroup = function () {\r\n        return false;\r\n    };\r\n\r\n    this.isMenu = function () {\r\n        return false;\r\n    };\r\n}\r\n\r\nfunction MenuGroup(groupId, options, parent) {\r\n    var that = this;\r\n    this.id = groupId;\r\n    this.completeId = parent.completeId + '.' + this.id;\r\n    var _menuEntries = [];\r\n    var _options = options;\r\n\r\n    this.addMenuEntry = function (menuEntryId, options) {\r\n        _menuEntries.push(new MenuEntry(menuEntryId, options, that));\r\n    };\r\n\r\n    this.getOptions = function () {\r\n        return _options;\r\n    };\r\n\r\n    this.getEntries = function () {\r\n        return _.sortBy(_menuEntries, function (entry) {\r\n            return entry.getOptions().sortOrder || 10000;\r\n        });\r\n    };\r\n\r\n    this.isGroup = function () {\r\n        return true;\r\n    };\r\n\r\n    this.isMenu = function () {\r\n        return false;\r\n    };\r\n}\r\n\r\nfunction Menu(menuId, options) {\r\n    var that = this;\r\n    this.id = menuId;\r\n    this.completeId = this.id;\r\n    var _menuEntries = [];\r\n    var _menuGroups = {};\r\n    var _options = options;\r\n\r\n    this.addMenuGroup = function (groupId, options) {\r\n        _menuGroups[groupId] = new MenuGroup(groupId, options, that);\r\n    };\r\n\r\n    this.addMenuEntry = function (groupId, menuEntryId, options) {\r\n        if (_.isUndefined(groupId)) {\r\n            _menuEntries.push(new MenuEntry(menuEntryId, options, that));\r\n        } else {\r\n            _menuGroups[groupId].addMenuEntry(menuEntryId, options);\r\n        }\r\n    };\r\n\r\n    this.getGroups = function () {\r\n        return _.sortBy(_.map(_menuGroups, function (menuGroup) {\r\n            return menuGroup;\r\n        }), function (menuGroup) {\r\n            return menuGroup.getOptions().sortOrder || 10000;\r\n        });\r\n    };\r\n\r\n    this.getEntries = function (groupId) {\r\n        if (_.isUndefined(groupId)) {\r\n            return _.sortBy(_menuEntries, function (entry) {\r\n                return entry.getOptions().sortOrder || 10000;\r\n            });\r\n        }\r\n        return _menuGroups[groupId].getEntries();\r\n    };\r\n\r\n    this.getFlattened = function () {\r\n        return _.flatten([_menuEntries, _.map(this.getGroups(), function (group) {\r\n            return[group, group.getEntries()];\r\n        })]);\r\n    };\r\n\r\n    this.isMenu = function () {\r\n        return true;\r\n    };\r\n\r\n    this.isGroup = function () {\r\n        return false;\r\n    };\r\n\r\n    this.getOptions = function () {\r\n        return _options;\r\n    };\r\n}\r\n\r\nfunction MenuBar(menuBarId, options) {\r\n    this.id = menuBarId;\r\n    var _menus = {};\r\n    var _options = options;\r\n\r\n    this.addMenu = function (menuId, options) {\r\n        _menus[menuId] = new Menu(menuId, options);\r\n    };\r\n\r\n    this.addMenuGroup = function (menuId, groupId, options) {\r\n        _menus[menuId].addMenuGroup(groupId, options);\r\n    };\r\n\r\n    this.addMenuEntry = function (menuId, groupId, menuEntryId, options) {\r\n        _menus[menuId].addMenuEntry(groupId, menuEntryId, options);\r\n    };\r\n\r\n    this.getMenus = function () {\r\n        return _.map(_menus, function (menu) {\r\n            return menu;\r\n        });\r\n    };\r\n\r\n    this.getOptions = function () {\r\n        return _options;\r\n    };\r\n}\r\n\r\n/**\r\n * @ngdoc service\r\n * @name cat.service.menu:$mainMenu\r\n * @constructor\r\n */\r\nfunction MainMenuProvider() {\r\n    var _mainMenu = new MenuBar('main.menu', {});\r\n\r\n    var _menus = [];\r\n    var _groups = [];\r\n    var _entries = [];\r\n\r\n    this.menu = function (moduleId, options) {\r\n        _menus.push({\r\n            menuId: moduleId,\r\n            options: options\r\n        });\r\n    };\r\n\r\n    this.menuGroup = function (moduleId, groupId, options) {\r\n        _groups.push({\r\n            menuId: moduleId,\r\n            groupId: groupId,\r\n            options: options\r\n        });\r\n    };\r\n\r\n    this.menuEntry = function (moduleId, groupId, entryId, options) {\r\n        if (_.isUndefined(options)) {\r\n            options = entryId;\r\n            entryId = groupId;\r\n            groupId = undefined;\r\n        }\r\n        _entries.push({\r\n            menuId: moduleId,\r\n            groupId: groupId,\r\n            entryId: entryId,\r\n            options: options\r\n        });\r\n    };\r\n\r\n    this.$get = function () {\r\n        _.forEach(_menus, function (menu) {\r\n            _mainMenu.addMenu(menu.menuId, menu.options);\r\n        });\r\n\r\n        _.forEach(_groups, function (group) {\r\n            _mainMenu.addMenuGroup(group.menuId, group.groupId, group.options);\r\n        });\r\n\r\n        _.forEach(_entries, function (entry) {\r\n            _mainMenu.addMenuEntry(entry.menuId, entry.groupId, entry.entryId, entry.options);\r\n        });\r\n\r\n        return _mainMenu;\r\n    };\r\n}\r\n\r\nangular.module('cat.service.menu').provider('$mainMenu', MainMenuProvider);\r\n","window.cat = {};\r\n\r\nangular.module('cat.filters.replaceText', []);\r\nangular.module('cat.filters', ['cat.filters.replaceText']);\r\n\r\nangular.module('cat.template', ['ui.bootstrap.tpls']);\r\n\r\nangular.module('cat.service.conversion', []);\r\nangular.module('cat.service.api', ['cat.service.conversion']);\r\nangular.module('cat.service.breadcrumbs', []);\r\nangular.module('cat.service.i18n', []);\r\nangular.module('cat.service.listDataLoading', ['cat.service.api']);\r\nangular.module('cat.service.route', ['ui.router']);\r\nangular.module('cat.service.selectConfig', []);\r\nangular.module('cat.service.view', ['cat.service.api', 'cat.service.route']);\r\nangular.module('cat.service.loading', ['angularSpinner']);\r\nangular.module('cat.service.message', []);\r\nangular.module('cat.service.httpIntercept', ['cat.service.loading', 'cat.service.message']);\r\nangular.module('cat.service.menu', []);\r\nangular.module('cat.service', [\r\n    'cat.service.conversion',\r\n    'cat.service.api',\r\n    'cat.service.breadcrumbs',\r\n    'cat.service.i18n',\r\n    'cat.service.listDataLoading',\r\n    'cat.service.route',\r\n    'cat.service.selectConfig',\r\n    'cat.service.view',\r\n    'cat.service.loading',\r\n    'cat.service.httpIntercept',\r\n    'cat.service.menu',\r\n    'cat.service.message'\r\n]);\r\n\r\nangular.module('cat.directives.autofocus', []);\r\nangular.module('cat.directives.checkbox', []);\r\nangular.module('cat.directives.confirmClick', []);\r\nangular.module('cat.directives.fieldErrors', []);\r\nangular.module('cat.directives.inputs', []);\r\nangular.module('cat.directives.loadMore', []);\r\nangular.module('cat.directives.menu', ['cat.service.menu']);\r\nangular.module('cat.directives.select', ['ui.select2', 'cat.service.api', 'cat.service.selectConfig']);\r\n\r\nangular.module('cat.directives.i18n', ['cat.service.i18n']);\r\n\r\nangular.module('cat.directives.paginated', [\r\n    'ui.bootstrap.pagination',\r\n    'cat.service.listDataLoading',\r\n    'cat.service.i18n'\r\n]);\r\nangular.module('cat.directives.facets', ['cat.directives.paginated']);\r\nangular.module('cat.directives.sortable', ['cat.directives.paginated']);\r\n\r\nangular.module('cat.directives.form', []);\r\nangular.module('cat.directives.numbersOnly', []);\r\n\r\nangular.module('cat.controller.base.list', ['cat.service.breadcrumbs']);\r\nangular.module('cat.controller.base.tabs', []);\r\nangular.module('cat.controller.base.detail', ['cat.service.breadcrumbs', 'cat.controller.base.tabs']);\r\nangular.module('cat.controller', ['cat.controller.base.detail', 'cat.controller.base.list']);\r\n\r\nangular.module('cat.directives', [\r\n    'cat.template',\r\n    'cat.directives.autofocus',\r\n    'cat.directives.checkbox',\r\n    'cat.directives.confirmClick',\r\n    'cat.directives.fieldErrors',\r\n    'cat.directives.inputs',\r\n    'cat.directives.loadMore',\r\n    'cat.directives.menu',\r\n    'cat.directives.select',\r\n    'cat.directives.i18n',\r\n    'cat.directives.paginated',\r\n    'cat.directives.facets',\r\n    'cat.directives.sortable',\r\n    'cat.directives.form',\r\n    'cat.directives.numbersOnly'\r\n]);\r\n\r\nangular.module('cat', [\r\n    'cat.service',\r\n    'cat.template',\r\n    'cat.directives',\r\n    'cat.filters',\r\n    'cat.controller',\r\n    'ui.bootstrap'\r\n]);\r\n","'use strict';\r\n\r\nwindow.cat = window.cat || {};\r\n\r\n/**\r\n * @ngdoc overview\r\n * @name FacetTerm\r\n *\r\n * @description\r\n * A 'FacetTerm' model used in conjunction with the cat-paginated directive where it represents a value of a group or\r\n * property which can be used to filter the shown list.\r\n * It consist of an id, a name and a count\r\n *\r\n * @param {Object} [data={}] the data used instantiate the object with. Usually this is the object representation\r\n * returned from the server.\r\n * @constructor\r\n */\r\nwindow.cat.FacetTerm = function (data) {\r\n    if (data === undefined) data = {};\r\n\r\n    this.id = data.id;\r\n    this.name = data.name;\r\n    this.count = data.count;\r\n};\r\n\r\n/**\r\n * @ngdoc overview\r\n * @name Facet\r\n *\r\n * @description\r\n * A 'Facet' model which is used in conjunction with the cat-paginated directive where it represents a group or\r\n * which property which can be used to filter the shown list.\r\n * It has a name and an array of FacetTerms\r\n *\r\n * @param {Object} [data={}] the data used instantiate the object with. Usually this is the object representation\r\n * returned from the server.\r\n * @constructor\r\n */\r\nwindow.cat.Facet = function (data) {\r\n    if (data === undefined) data = {};\r\n\r\n    this.name = data.name;\r\n    this.terms = _.map(data.facets, function (facet) {\r\n        return new window.cat.FacetTerm(facet);\r\n    });\r\n};","'use strict';\r\n\r\nwindow.cat = window.cat || {};\r\n\r\n/**\r\n * @ngdoc overview\r\n * @name SearchRequest\r\n *\r\n * @description\r\n * A 'SearchRequest' model used by the catApiService to provide the backend with certain filter, order, page and size\r\n * parameters.\r\n *\r\n *\r\n * @param {Object} [searchUrlParams] an object representing the search parameters of the current url, which are\r\n * used to initialize the properties of the SearchRequest\r\n * @constructor\r\n */\r\nwindow.cat.SearchRequest = function (searchUrlParams) {\r\n\r\n    var _pagination = {\r\n        page: 1,\r\n        size: 100\r\n    };\r\n    var _sort = {};\r\n    var _search = {};\r\n\r\n    var lastEncoded;\r\n\r\n    if (!!searchUrlParams && !_.isEmpty(searchUrlParams)) {\r\n        _pagination.page = searchUrlParams.page || _pagination.page;\r\n        _pagination.size = searchUrlParams.size || _pagination.size;\r\n        _sort.property = searchUrlParams.sort || _sort.property;\r\n        _sort.isDesc = searchUrlParams.rev || _sort.isDesc;\r\n        _.forEach(_.keys(searchUrlParams), function (param) {\r\n            if (param.indexOf('search.') > -1 && param.length > 7) {\r\n                _search[param.substring(7)] = searchUrlParams[param];\r\n            }\r\n        });\r\n    }\r\n\r\n    var _encodeSort = function () {\r\n        return (!!_sort.property ? 'sort=' + _sort.property + ':' + ((_sort.isDesc === true || _sort.isDesc === 'true') ? 'desc' : 'asc') : '');\r\n    };\r\n\r\n    var _encodePagination = function () {\r\n        return 'page=' + (!!_pagination.page ? Math.max(0, _pagination.page - 1) : 0) + '&size=' + _pagination.size || 100;\r\n    };\r\n\r\n    var _concatenate = function (result, next) {\r\n        if (!result) {\r\n            return next;\r\n        }\r\n\r\n        if (!next) {\r\n            return result;\r\n        }\r\n        return result + '&' + next;\r\n    };\r\n\r\n    var _encodeSearch = function () {\r\n        if (!!_search && !_.isEmpty(_search)) {\r\n            return $.param(_search, true);\r\n        }\r\n\r\n        return '';\r\n    };\r\n\r\n    var urlEndoded = function () {\r\n        return _([_encodePagination(), _encodeSort(), _encodeSearch()]).reduce(_concatenate);\r\n    };\r\n\r\n    /**\r\n     * @param {Object} [pagination] if given this object overrides the current 'pagination' state\r\n     * @returns {{}} the object representing the current pagination state\r\n     */\r\n    this.pagination = function (pagination) {\r\n        if (pagination === undefined) {\r\n            return _pagination;\r\n        } else {\r\n            _pagination = pagination;\r\n            return _pagination;\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * @param {Object} [sort] if given this object overrides the current 'sort' state\r\n     * @returns {{}} the object representing the current sort state\r\n     */\r\n    this.sort = function (sort) {\r\n        if (sort === undefined) {\r\n            return _sort;\r\n        } else {\r\n            _sort = sort;\r\n            return _sort;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @param {Object} [search] if given this object overrides the current 'search' state\r\n     * @returns {{}} the object representing the current search state\r\n     */\r\n    this.search = function (search) {\r\n        if (search === undefined) {\r\n            return _search;\r\n        } else {\r\n            _search = search;\r\n            return _search;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @returns {String} a string representation of the current SearchRequest which can be used as part of the request\r\n     * url\r\n     */\r\n    this.urlEncoded = function () {\r\n        lastEncoded = urlEndoded();\r\n        return lastEncoded;\r\n    };\r\n\r\n    /**\r\n     * @returns {boolean} <code>true</code> if something changed since the last time {@link this#urlEncoded} was called\r\n     */\r\n    this.isDirty = function () {\r\n        return lastEncoded !== urlEndoded();\r\n    };\r\n\r\n    /**\r\n     * A small helper function to update the current url to correctly reflect all properties set within this\r\n     * SearchRequest\r\n     * @param $location the angular $location service\r\n     */\r\n    this.setSearch = function ($location) {\r\n        var ret = {};\r\n        ret.page = _pagination.page;\r\n        ret.size = _pagination.size;\r\n        if (!!_sort.property) {\r\n            ret.sort = _sort.property;\r\n            ret.rev = _sort.isDesc || false;\r\n        }\r\n        _.forEach(_.keys(_search), function (s) {\r\n            ret['search.' + s] = _search[s];\r\n        });\r\n        $location.search(ret);\r\n    };\r\n};","'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name cat.directives.autofocus:catAutofocus\r\n */\r\nangular.module('cat.directives.autofocus')\r\n    .directive('catAutofocus', function CatAutofocusDirective($timeout) {\r\n        return {\r\n            restrict: 'A',\r\n            link: function CatAutofocusLink(scope, element) {\r\n                $timeout(function () {\r\n                    if (!_.isUndefined(element.data('select2'))) {\r\n                        element.select2('open');\r\n                    } else {\r\n                        element[0].focus();\r\n                    }\r\n                }, 100);\r\n            }\r\n        };\r\n    });\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name cat.directives.checkbox:catCheckbox\r\n */\r\nangular.module('cat.directives.checkbox')\r\n    .directive('catCheckbox', function CatCheckboxDirective() {\r\n        return {\r\n            replace: true,\r\n            restrict: 'E',\r\n            scope: {\r\n                checked: '='\r\n            },\r\n            link: function CatCheckboxLink(scope, element) {\r\n                if (!!scope.checked) {\r\n                    element.addClass('glyphicon glyphicon-check');\r\n                } else {\r\n                    element.addClass('glyphicon glyphicon-unchecked');\r\n                }\r\n            }\r\n        };\r\n    });","'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name cat.directives.confirmClick:catConfirmClick\r\n */\r\nangular.module('cat.directives.confirmClick')\r\n    .directive('catConfirmClick', function CatConfirmClickDirective() {\r\n        return {\r\n            restrict: 'A',\r\n            link: function CatConfirmClickLink(scope, element, attr) {\r\n                var msg = attr.catConfirmClick || 'Are you sure?';\r\n                var clickAction = attr.catOnConfirm;\r\n                element.bind('click', function (event) {\r\n                    if (window.confirm(msg)) {\r\n                        scope.$eval(clickAction);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    });\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name cat.directives.facets:catFacets\r\n */\r\nangular.module('cat.directives.facets')\r\n    .directive('catFacets', function CatFacetsDirective() {\r\n        function _initDefaults(scope) {\r\n            if (_.isUndefined(scope.listData)) {\r\n                scope.listData = scope.$parent.listData;\r\n            }\r\n        }\r\n\r\n        function _checkConditions(scope) {\r\n            if (_.isUndefined(scope.listData)) {\r\n                throw new Error('listData was not defined and couldn\\'t be found with default value');\r\n            }\r\n\r\n            if (_.isUndefined(scope.listData.facets)) {\r\n                throw new Error('No facets are available within given listData');\r\n            }\r\n        }\r\n\r\n        return {\r\n            replace: true,\r\n            restrict: 'E',\r\n            scope: {\r\n                listData: '=?',\r\n                names: '='\r\n            },\r\n            require: '^catPaginated',\r\n            templateUrl: 'template/cat-facets.tpl.html',\r\n            link: function CatFacetsLink(scope, element, attrs, catPaginatedController) {\r\n                _initDefaults(scope);\r\n                _checkConditions(scope);\r\n\r\n                scope.catPaginatedController = catPaginatedController;\r\n            },\r\n            controller: function CatFacetsController($scope) {\r\n                $scope.isActive = function (facet) {\r\n                    return !!$scope.catPaginatedController.getSearch()[facet.name];\r\n                };\r\n\r\n                function _search(search) {\r\n                    return $scope.catPaginatedController.getSearchRequest().search(search);\r\n                }\r\n\r\n                $scope.facetName = function (facet) {\r\n                    if ($scope.names !== undefined && $scope.names[facet.name] !== undefined) {\r\n                        return $scope.names[facet.name];\r\n                    } else {\r\n                        return facet.name;\r\n                    }\r\n                };\r\n\r\n                $scope.facets = {};\r\n\r\n                $scope.facetChanged = function (facet) {\r\n                    var search = _search();\r\n                    var value = $scope.facets[facet.name];\r\n                    if (!!value) {\r\n                        search[facet.name] = value;\r\n                    } else {\r\n                        delete search[facet.name];\r\n                    }\r\n                };\r\n\r\n                $scope.initFacets = function () {\r\n                    _.forEach($scope.listData.facets, function (facet) {\r\n                        if ($scope.isActive(facet)) {\r\n                            $scope.facets[facet.name] = $scope.catPaginatedController.getSearch()[facet.name];\r\n                        }\r\n                    });\r\n                };\r\n\r\n                $scope.facetSelectOptions = {\r\n                    allowClear: true\r\n                };\r\n            }\r\n        };\r\n    });\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name cat.directives.fieldError:catFieldErrors\r\n */\r\nangular.module('cat.directives.fieldErrors')\r\n    .directive('catFieldErrors', function CatFieldErrorsDirective() {\r\n        return {\r\n            replace: 'true',\r\n            restrict: 'E',\r\n            scope: {\r\n                errors: '=',\r\n                name: '@'\r\n            },\r\n            template: '<div class=\"label label-danger\" ng-if=\"errors[name]\"><ul><li ng-repeat=\"error in errors[name]\">{{error}}</li></ul></div>'\r\n        };\r\n    });","'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name cat.directives.i18n:catI18n\r\n */\r\nangular.module('cat.directives.i18n')\r\n    .directive('catI18n', ['$log', '$rootScope', 'catI18nService', function CatI18nDirective($log, $rootScope, catI18nService) {\r\n        function _translate(scope, element) {\r\n            if (!scope.key) {\r\n                $log.warn('No key was given for cat-i18n!');\r\n                return;\r\n            }\r\n            catI18nService.translate(scope.key, scope.params).then(\r\n                function (message) {\r\n                    element.text(message);\r\n                }, function (reason) {\r\n                    // TODO - introduce a handler service for this case - eg show '##missingkey: somekey##'\r\n                }\r\n            );\r\n        }\r\n\r\n\r\n        return {\r\n            restrict: 'A',\r\n            scope: {\r\n                key: '@catI18n',\r\n                params: '=?i18nParams',\r\n                watchParams: '=?i18nWatchParams'\r\n            },\r\n            link: function CatI18nLink(scope, element) {\r\n                _translate(scope, element);\r\n\r\n                if (!!scope.params && scope.watchParams === true) {\r\n                    scope.$watch('params', function () {\r\n                        _translate(scope, element);\r\n                    }, true);\r\n                }\r\n\r\n                $rootScope.$on('cat-i18n-refresh', function () {\r\n                    _translate(scope, element);\r\n                });\r\n            }\r\n        };\r\n    }]);\r\n","'use strict';\r\n\r\nangular.module('cat.directives.inputs')\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name cat.directives.inputs:input\r\n */\r\n    .directive('input', function CatInputDirective() {\r\n        return {\r\n            require: 'ngModel',\r\n            restrict: 'E',\r\n            link: function CatInputLink(scope, element, attrs, ctrl) {\r\n                scope.$on('fieldErrors', function (event, fieldErrors) {\r\n                    if (!fieldErrors || !attrs.id) {\r\n                        return;\r\n                    }\r\n                    var valid = !fieldErrors[attrs.id];\r\n                    ctrl.$setValidity(attrs.id, valid);\r\n                });\r\n            }\r\n        };\r\n    })\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name cat.directives.inputs:catInputGroup\r\n */\r\n    .directive('catInputGroup', function CatInputGroupDirective() {\r\n        return {\r\n            restrict: 'A',\r\n            transclude: true,\r\n            scope: {\r\n                errors: '=',\r\n                label: '@',\r\n                name: '@'\r\n            },\r\n            link: function CatInputGroupLink(scope, element) {\r\n                element.addClass('form-group');\r\n            },\r\n            templateUrl: 'template/cat-input.tpl.html'\r\n        };\r\n    });","'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name cat.directives.loadMore:catLoadMore\r\n */\r\nangular.module('cat.directives.loadMore')\r\n    .directive('catLoadMore', function CatLoadMoreDirective() {\r\n        return {\r\n            replace: true,\r\n            restrict: 'A',\r\n            link: function CatLoadMoreLink(scope, element, attrs) {\r\n                var initialCount = parseInt(attrs.catLoadMore);\r\n                scope.$parent.elementsCount = scope.$parent.elementsCount || initialCount;\r\n                scope.$parent.elements = scope.$parent.elements || [];\r\n                scope.$parent.elements.push(element);\r\n                if (scope.$parent.elements.length > scope.$parent.elementsCount) {\r\n                    element.addClass('hidden');\r\n                }\r\n                if (!element.parent().next().length && scope.$parent.elements.length > scope.$parent.elementsCount) {\r\n                    var elt = $('<a href=\"#\">Show more</a>');\r\n                    elt.on({\r\n                        click: function () {\r\n                            scope.$parent.elementsCount += initialCount;\r\n                            if (scope.$parent.elements.length <= scope.$parent.elementsCount) {\r\n                                elt.addClass('hidden');\r\n                            }\r\n                            scope.$parent.elements.forEach(function (elt, ind) {\r\n                                if (ind < scope.$parent.elementsCount) {\r\n                                    elt.removeClass('hidden');\r\n                                }\r\n                            });\r\n                            return false;\r\n                        }\r\n                    });\r\n                    element.parent().after(elt);\r\n                }\r\n            }\r\n        };\r\n    });\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name cat.directives.menu:catLoadMore\r\n */\r\nangular.module('cat.directives.menu')\r\n    .directive('catMainMenu', ['$mainMenu', '$rootScope', function CatMainMenuDirective($mainMenu, $rootScope) {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {},\r\n            link: function CatMainMenuLink(scope) {\r\n                scope.menus = $mainMenu.getMenus();\r\n                scope.isVisible = function (entry) {\r\n                    var visible = false;\r\n                    if (entry.isMenu() || entry.isGroup()) {\r\n                        _.forEach(entry.getEntries(), function (subEntry) {\r\n                            visible = visible || scope.isVisible(subEntry);\r\n                        });\r\n                        if (entry.isMenu()) {\r\n                            _.forEach(entry.getGroups(), function (groups) {\r\n                                visible = visible || scope.isVisible(groups);\r\n                            });\r\n                        }\r\n                    } else {\r\n                        return scope.isAllowed(entry);\r\n                    }\r\n                    return visible;\r\n                };\r\n                scope.isAllowed = function (entry) {\r\n                    var rights = entry.getOptions().rights;\r\n                    if (!!rights) {\r\n                        if (_.isArray(rights)) {\r\n                            var allowed = true;\r\n                            for (var i = 0; i < rights.length; i++) {\r\n                                allowed = allowed && $rootScope.isAllowed(rights[i]);\r\n                            }\r\n                            return allowed;\r\n                        }\r\n                        return $rootScope.isAllowed(rights);\r\n                    }\r\n                    return true;\r\n                };\r\n            },\r\n            templateUrl: 'template/cat-main-menu.tpl.html'\r\n        };\r\n    }]);\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name cat.directives.paginated:catPaginated\r\n */\r\nangular.module('cat.directives.paginated')\r\n    .directive('catPaginated', function CatPaginatedDirective($log, catI18nService) {\r\n        var SEARCH_PROP_KEY = 'cc.catalysts.cat-paginated.search.prop';\r\n\r\n        return {\r\n            replace: true,\r\n            restrict: 'E',\r\n            transclude: true,\r\n            scope: {\r\n                listData: '=?',\r\n                syncLocation: '=?'\r\n            },\r\n            templateUrl: 'template/cat-paginated.tpl.html',\r\n            link: function CatPaginatedLink(scope, element, attrs) {\r\n                if (!!attrs.searchProps) {\r\n                    scope.searchProps = _.filter(attrs.searchProps.split(','), function (prop) {\r\n                        return !!prop;\r\n                    });\r\n\r\n                    scope.searchPropertyPlaceholders = {};\r\n\r\n                    _.forEach(scope.searchProps, function (searchProp) {\r\n                        scope.searchPropertyPlaceholders[searchProp] = 'Search by ' + searchProp;\r\n                        catI18nService.translate(SEARCH_PROP_KEY, {prop: searchProp})\r\n                            .then(function (message) {\r\n                                scope.searchPropertyPlaceholders[searchProp] = message;\r\n                            });\r\n                    });\r\n                }\r\n            },\r\n            controllerAs: 'catPaginatedController',\r\n            controller: function CatPaginatedController($scope, $location, $timeout, $rootScope, catListDataLoadingService, catI18nService) {\r\n                var that = this;\r\n                var searchTimeout = null, DELAY_ON_SEARCH = 500;\r\n                var PAGINATION_PREVIOUS_KEY = 'cc.catalysts.cat-paginated.pagination.previous';\r\n                var PAGINATION_NEXT_KEY = 'cc.catalysts.cat-paginated.pagination.next';\r\n                var PAGINATION_FIRST_KEY = 'cc.catalysts.cat-paginated.pagination.first';\r\n                var PAGINATION_LAST_KEY = 'cc.catalysts.cat-paginated.pagination.last';\r\n\r\n                if (_.isUndefined($scope.listData)) {\r\n                    $scope.listData = $scope.$parent.listData;\r\n                    if (_.isUndefined($scope.listData)) {\r\n                        throw new Error('listData was not defined and couldn\\'t be found with default value');\r\n                    }\r\n                }\r\n\r\n                if (_.isUndefined($scope.syncLocation)) {\r\n                    $scope.syncLocation = _.isUndefined($scope.$parent.detail);\r\n                }\r\n\r\n                $scope.paginationText = {\r\n                    previous: 'Previous',\r\n                    next: 'Next',\r\n                    first: 'First',\r\n                    last: 'Last'\r\n                };\r\n\r\n                function handlePaginationTextResponse(prop) {\r\n                    return function (message) {\r\n                        $scope.paginationText[prop] = message;\r\n                    };\r\n                }\r\n\r\n\r\n                function _loadPaginationTranslations() {\r\n                    catI18nService.translate(PAGINATION_PREVIOUS_KEY).then(handlePaginationTextResponse('previous'));\r\n                    catI18nService.translate(PAGINATION_NEXT_KEY).then(handlePaginationTextResponse('next'));\r\n                    catI18nService.translate(PAGINATION_FIRST_KEY).then(handlePaginationTextResponse('first'));\r\n                    catI18nService.translate(PAGINATION_LAST_KEY).then(handlePaginationTextResponse('last'));\r\n                }\r\n\r\n                _loadPaginationTranslations();\r\n\r\n                $rootScope.$on('cat-i18n-refresh', function () {\r\n                    _loadPaginationTranslations();\r\n                });\r\n\r\n\r\n                $scope.listData.search = $scope.listData.search || $scope.listData.searchRequest.search() || {};\r\n\r\n                var searchRequest = $scope.listData.searchRequest;\r\n\r\n                var reload = function (delay) {\r\n                    $timeout.cancel(searchTimeout);\r\n                    searchTimeout = $timeout(function () {\r\n                        if (searchRequest.isDirty()) {\r\n                            catListDataLoadingService.load($scope.listData.endpoint, searchRequest).then(\r\n                                function (data) {\r\n                                    _.assign($scope.listData, data);\r\n                                }\r\n                            );\r\n                        }\r\n                    }, delay || 0);\r\n                };\r\n\r\n                $scope.$watch('listData.sort', function (newVal) {\r\n                    if (!!newVal) {\r\n                        console.log('broadcasting sort changed: ' + angular.toJson(newVal));\r\n                        $scope.$parent.$broadcast('SortChanged', newVal);\r\n                    }\r\n                }, true);\r\n\r\n                function updateLocation() {\r\n                    if ($scope.syncLocation !== false) {\r\n                        searchRequest.setSearch($location);\r\n                        $location.replace();\r\n                    }\r\n                }\r\n\r\n                $scope.$watch('listData.pagination', function () {\r\n                    searchRequest.pagination($scope.listData.pagination);\r\n                    updateLocation();\r\n                    reload();\r\n                }, true);\r\n\r\n                var searchChanged = function (value, delay) {\r\n                    searchRequest.search(value);\r\n                    updateLocation();\r\n                    $scope.listData.pagination.page = 1;\r\n                    reload(delay);\r\n                };\r\n\r\n                var updateSearch = function (value) {\r\n                    var search = searchRequest.search();\r\n                    _.assign(search, value);\r\n                    searchChanged(value, DELAY_ON_SEARCH);\r\n                };\r\n\r\n                $scope.$watch('listData.search', updateSearch, true);\r\n\r\n                this.sort = function (value) {\r\n                    searchRequest.sort(value);\r\n                    updateLocation();\r\n                    $scope.listData.pagination.page = 1;\r\n                    reload();\r\n                };\r\n\r\n                this.getSearch = function () {\r\n                    return searchRequest.search();\r\n                };\r\n\r\n                this.getSearchRequest = function () {\r\n                    return searchRequest;\r\n                };\r\n\r\n                $scope.$on('SortChanged', function (event, value) {\r\n                    that.sort(value);\r\n                });\r\n            }\r\n        };\r\n    });\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name cat.directives.sortable:catSortable\r\n */\r\nangular.module('cat.directives.sortable')\r\n    .directive('catSortable', function CatSortableDirective($compile) {\r\n        return {\r\n            restrict: 'AC',\r\n            require: '^catPaginated',\r\n            link: function CatSortableLink(scope, element, attrs, catPaginatedController) {\r\n                var title = element.text();\r\n                var property = attrs.catSortable || title.toLowerCase().trim();\r\n\r\n                // todo - make configurable\r\n                scope.sort = scope.listData.searchRequest.sort();\r\n                scope.catPaginatedController = catPaginatedController;\r\n                var icon = 'glyphicon-sort-by-attributes';\r\n\r\n                if (!!attrs.sortMode) {\r\n                    if (attrs.sortMode === 'numeric') {\r\n                        icon = 'glyphicon-sort-by-order';\r\n                    } else if (attrs.sortMode === 'alphabet') {\r\n                        icon = 'glyphicon-sort-by-alphabet';\r\n                    }\r\n                }\r\n\r\n                element.text('');\r\n                element.append($compile('<a class=\"sort-link\" href=\"\" ng-click=\"toggleSort(\\'' + property + '\\')\" cat-i18n=\"cc.catalysts.cat-sortable.sort.' + property + '\">' + title + ' <span class=\"glyphicon\" ng-class=\"{\\'' + icon + '\\': sort.property == \\'' + property + '\\' && !sort.isDesc, \\'' + icon + '-alt\\': sort.property == \\'' + property + '\\' && sort.isDesc}\"></span></a>')(scope));\r\n            },\r\n            controller: function CatSortableController($scope) {\r\n                $scope.toggleSort = function (property) {\r\n                    if ($scope.sort.property === property) {\r\n                        $scope.sort.isDesc = !$scope.sort.isDesc;\r\n                    } else {\r\n                        $scope.sort.property = property;\r\n                        $scope.sort.isDesc = false;\r\n                    }\r\n\r\n                    $scope.catPaginatedController.sort($scope.sort);\r\n                };\r\n\r\n                $scope.$on('SortChanged', function (event, value) {\r\n                    $scope.sort = value;\r\n                });\r\n            }\r\n        };\r\n    });","'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name cat.directives.form:form\r\n */\r\nangular.module('cat.directives.form')\r\n    .directive('form', ['$timeout', function CatFormDirective($timeout) {\r\n        return {\r\n            restrict: 'E',\r\n            scope: true,\r\n            require: 'form',\r\n            link: function CatFormLink(scope, element, attrs, formCtrl) {\r\n                var warningMessage = attrs.eocsWarnOnNavIfDirty || 'You have unsaved changes. Leave the page?';\r\n\r\n                // TODO - remove this ugly hack if ui-select2 fixes this problem...\r\n                $timeout(function () {\r\n                    formCtrl.$setPristine(true);\r\n                }, 50);\r\n\r\n                scope.$on('formReset', function () {\r\n                    formCtrl.$setPristine(true);\r\n                });\r\n\r\n                scope.$on('formDirty', function () {\r\n                    formCtrl.$setDirty(true);\r\n                });\r\n\r\n                // handle angular route change\r\n                scope.$on('$locationChangeStart', function (event) {\r\n                    if (formCtrl.$dirty) {\r\n                        if (!window.confirm(warningMessage)) {\r\n                            event.preventDefault();\r\n                        }\r\n                    }\r\n                });\r\n\r\n                // handle browser window/tab close\r\n                $(window).on('beforeunload', function (event) {\r\n                    if (formCtrl.$dirty) {\r\n                        return warningMessage;\r\n                    }\r\n                });\r\n\r\n                // clean up beforeunload handler when scope is destroyed\r\n                scope.$on('$destroy', function () {\r\n                    $(window).unbind('beforeunload');\r\n                });\r\n            }\r\n        };\r\n    }]);\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc directive\r\n * @name cat.directives.numbersOnly:numbersOnly\r\n */\r\nangular.module('cat.directives.numbersOnly')\r\n    .directive('numbersOnly', function CatNumbersOnlyDirective() {\r\n        return {\r\n            require: 'ngModel',\r\n            link: function CatNumbersOnlyLink(scope, element, attrs, modelCtrl) {\r\n                modelCtrl.$parsers.push(function (inputValue) {\r\n                    if (!inputValue) return '';\r\n\r\n                    var pattern = '[^0-9]';\r\n\r\n                    if (!!attrs.hasOwnProperty('allowFraction')) {\r\n                        pattern = '[^0-9,.]';\r\n                    }\r\n\r\n                    var transformedInput = inputValue.replace(new RegExp(pattern, 'g'), '');\r\n\r\n                    if (transformedInput !== inputValue) {\r\n                        modelCtrl.$setViewValue(transformedInput);\r\n                        modelCtrl.$render();\r\n                    }\r\n\r\n                    return transformedInput;\r\n                });\r\n            }\r\n        };\r\n    });","'use strict';\r\n\r\n\r\nangular.module('cat.filters.replaceText')\r\n\r\n/**\r\n * @ngdoc filter\r\n * @name cat.filters.replaceText:replaceText\r\n *\r\n * @description\r\n * Replaces text passages with other text, based on regular expressions\r\n *\r\n * @param {string} text original text\r\n * @param {string} pattern regular expression\r\n * @param {object} options regular expression options\r\n * @param {string} replacement replacement text\r\n */\r\n.filter('replaceText', function CatReplaceTetFilter() {\r\n    return function (text, pattern, options, replacement) {\r\n        if (pattern === undefined)\r\n            pattern = '\\n';\r\n        if (options === undefined)\r\n            options = 'g';\r\n        if (replacement === undefined)\r\n            replacement = ', ';\r\n        if (!text) {\r\n            return text;\r\n        } else {\r\n            return String(text).replace(new RegExp(pattern, options), replacement);\r\n        }\r\n    };\r\n});\r\n","/**\r\n * Created by tscheinecker on 23.10.2014.\r\n */\r\n'use strict';\r\n\r\nwindow.cat.i18n = window.cat.i18n || {};\r\nwindow.cat.i18n.de = window.cat.i18n.de || {};\r\n\r\n_.assign(window.cat.i18n.de, {\r\n    'cc.catalysts.cat-paginated.itemsFound': '{{count}} Eintrge gefunden. Eintrge {{firstResult}}-{{lastResult}}',\r\n    'cc.catalysts.cat-paginated.noItemsFound': 'Keine Eintrge gefunden',\r\n    'cc.catalysts.general.new': 'Neu'\r\n});\r\n","/**\r\n * Created by tscheinecker on 23.10.2014.\r\n */\r\n'use strict';\r\n\r\nwindow.cat.i18n = window.cat.i18n || {};\r\nwindow.cat.i18n.en = window.cat.i18n.en || {};\r\n\r\n_.assign(window.cat.i18n.en, {\r\n    'cc.catalysts.cat-paginated.itemsFound': '{{count}} entries found. Entries {{firstResult}}-{{lastResult}}',\r\n    'cc.catalysts.cat-paginated.noItemsFound': 'No entries found',\r\n    'cc.catalysts.general.new': 'New'\r\n});\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc service\r\n * @name cat.service.listDataLoading:catListDataLoadingService\r\n */\r\nangular.module('cat.service.listDataLoading')\r\n    .factory('catListDataLoadingService', ['catApiService', '$state', '$location', '$q', function CatListDataLoadingService(catApiService, $state, $location, $q) {\r\n        var load = function (endpoint, searchRequest) {\r\n            var deferred = $q.defer();\r\n            endpoint.list(searchRequest).then(\r\n                function success(data) {\r\n                    var pagination = searchRequest.pagination();\r\n\r\n                    var result = {\r\n                        count: data.totalCount,\r\n                        collection: data.elements,\r\n                        pagination: pagination,\r\n                        firstResult: (pagination.page - 1) * pagination.size + 1,\r\n                        lastResult: Math.min(pagination.page * pagination.size, data.totalCount),\r\n                        facets: data.facets,\r\n                        isSinglePageList: data.totalCount <= pagination.size,\r\n                        endpoint: endpoint,\r\n                        searchRequest: searchRequest\r\n                    };\r\n\r\n                    delete data.totalCount;\r\n                    delete data.elements;\r\n                    delete data.facets;\r\n\r\n                    deferred.resolve(_.assign(result, data));\r\n                },\r\n                function error(reason) {\r\n                    deferred.reject(reason);\r\n                });\r\n            return deferred.promise;\r\n        };\r\n        /**\r\n         *\r\n         * @param {String} endpointName\r\n         * @param {Object} [defaultSort={property:'name',isDesc:false}]\r\n         */\r\n        var resolve = function (endpointName, defaultSort) {\r\n            var searchRequest = new window.cat.SearchRequest($location.search());\r\n            if (!defaultSort) {\r\n                defaultSort = {property: 'name', isDesc: false};\r\n            }\r\n            if (!!defaultSort && !$location.search().sort) {\r\n                searchRequest.sort(defaultSort);\r\n            }\r\n            return load(catApiService[endpointName], searchRequest);\r\n        };\r\n\r\n        return {\r\n            'load': load,\r\n            'resolve': resolve\r\n        };\r\n    }]);\r\n","'use strict';\r\n\r\nangular.module('cat.service.httpIntercept')\r\n\r\n/**\r\n * @ngdoc service\r\n * @name cat.service.httpIntercept:errorHttpInterceptor\r\n */\r\n\r\n    .factory('errorHttpInterceptor', function CatErrorHttpInterceptor($q, $globalMessages, loadingService) {\r\n        return {\r\n            'request': function (config) {\r\n                loadingService.start();\r\n                return config;\r\n            },\r\n            'requestError': function (rejection) {\r\n                loadingService.stop();\r\n                return $q.reject(rejection);\r\n            },\r\n            'response': function (success) {\r\n                loadingService.stop();\r\n                return success;\r\n            },\r\n            'responseError': function (rejection) {\r\n                loadingService.stop();\r\n                $globalMessages.clearMessages('error');\r\n\r\n                if (!!rejection.data.error) {\r\n                    var error = '[' + rejection.status + ' - ' + rejection.statusText + '] ' + rejection.data.error;\r\n                    if (!!rejection.data.cause) {\r\n                        error += '\\n' + rejection.data.cause;\r\n                    }\r\n                    $globalMessages.addMessage('error', error);\r\n                }\r\n                if (!!rejection.data.globalErrors) {\r\n                    $globalMessages.addMessages('error', rejection.data.globalErrors);\r\n                }\r\n\r\n                return $q.reject(rejection);\r\n            }\r\n        };\r\n    })\r\n    .config(function ($httpProvider) {\r\n        $httpProvider.interceptors.push('errorHttpInterceptor');\r\n    });\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc service\r\n * @name cat.service.loading:loadingService\r\n */\r\nangular.module('cat.service.loading')\r\n    .factory('loadingService', function CatLoadingService($rootScope, usSpinnerService, $timeout) {\r\n        var timeout = 50;\r\n        var animationDuration = 200;\r\n        var activeCount = 0;\r\n        var startTime;\r\n        var startTimer, stopTimer;\r\n\r\n        var start = function () {\r\n            if (!activeCount && !startTimer) {\r\n                if (!!stopTimer) {\r\n                    $timeout.cancel(stopTimer);\r\n                    stopTimer = undefined;\r\n                }\r\n                startTimer = $timeout(function () {\r\n                    usSpinnerService.spin('loading-spinner');\r\n                    $rootScope.loading = true;\r\n                    startTime = new Date().getTime();\r\n                }, timeout);\r\n            }\r\n            activeCount++;\r\n        };\r\n\r\n        var stop = function () {\r\n            activeCount--;\r\n            if (!activeCount && !stopTimer) {\r\n                if (!!startTimer) {\r\n                    $timeout.cancel(startTimer);\r\n                    startTimer = undefined;\r\n                }\r\n                var now = new Date().getTime();\r\n                var stopTimeout = timeout + (Math.max((animationDuration - (now - startTime)), 0));\r\n                stopTimer = $timeout(function () {\r\n                    usSpinnerService.stop('loading-spinner');\r\n                    $rootScope.loading = false;\r\n                }, stopTimeout);\r\n            }\r\n        };\r\n\r\n        $rootScope.$on('$stateChangeStart', function (event) {\r\n            start();\r\n\r\n        });\r\n        $rootScope.$on('$stateChangeSuccess', function (event) {\r\n            stop();\r\n        });\r\n        $rootScope.$on('$stateChangeError', function (event) {\r\n            stop();\r\n        });\r\n\r\n        return {\r\n            start: start,\r\n            stop: stop\r\n        };\r\n    });\r\n","'use strict';\r\n\r\n/**\r\n * @ngdoc service\r\n * @name cat.service.message:$globalMessages\r\n */\r\nangular.module('cat.service.message').service('$globalMessages', function CatGlobalMessages($rootScope) {\r\n    var messages = {};\r\n\r\n    var self = this;\r\n\r\n    this.getMessages = function (type) {\r\n        if (!type) {\r\n            return [];\r\n        }\r\n\r\n        return messages[type];\r\n    };\r\n\r\n    this.hasMessages = function (type) {\r\n        if (!type) {\r\n            return false;\r\n        }\r\n\r\n        return !!messages[type] && messages[type].length !== 0;\r\n    };\r\n\r\n    this.clearMessages = function (type) {\r\n        if (!type) {\r\n            messages = {};\r\n            return;\r\n        }\r\n\r\n        messages[type] = [];\r\n    };\r\n\r\n    this.addMessage = function (type, message) {\r\n        if (!type) {\r\n            return;\r\n        }\r\n\r\n        if (!messages[type]) {\r\n            self.clearMessages(type);\r\n        }\r\n\r\n        messages[type].push(message);\r\n    };\r\n\r\n    this.addMessages = function (type, messages) {\r\n        if (!type) {\r\n            return;\r\n        }\r\n\r\n        _.forEach(messages, function (message) {\r\n            self.addMessage(type, message);\r\n        });\r\n    };\r\n\r\n    this.setMessages = function (type, messages) {\r\n        if (!type) {\r\n            return;\r\n        }\r\n\r\n        self.clearMessages(type);\r\n        if (!!messages) {\r\n            self.addMessages(type, messages);\r\n        }\r\n    };\r\n\r\n    $rootScope.$on('$stateChangeSuccess', function () {\r\n        self.clearMessages();\r\n    });\r\n});\r\n","/**\r\n * Created by tscheinecker on 26.08.2014.\r\n */\r\n'use strict';\r\n\r\nwindow.cat.util = window.cat.util || {};\r\n\r\nwindow.cat.util.pluralize = function (string) {\r\n    if (_.isUndefined(string) || string.length === 0) {\r\n        return '';\r\n    }\r\n    var lastChar = string[string.length - 1];\r\n\r\n    switch (lastChar) {\r\n        case 'y':\r\n            return string.substring(0, string.length - 1) + 'ies';\r\n        case 's':\r\n            return string + 'es';\r\n        default :\r\n            return string + 's';\r\n    }\r\n\r\n};\r\n\r\nwindow.cat.util.capitalize = function (string) {\r\n    if (_.isUndefined(string) || string.length === 0) {\r\n        return '';\r\n    }\r\n\r\n    return string.substring(0, 1).toUpperCase() + string.substring(1, string.length);\r\n};","/**\r\n * Created by tscheinecker on 01.08.2014.\r\n */\r\n\r\n'use strict';\r\n\r\nwindow.cat.util = window.cat.util || {};\r\n\r\nwindow.cat.models = window.cat.models || {};\r\n\r\n/**\r\n * This helper function is used to acquire the constructor function which is used as a 'model' for the api endpoint.\r\n * @param name the name of the 'entity' for which the constructor has to be returned\r\n * @returns {Constructor}\r\n */\r\nwindow.cat.util.defaultModelResolver = function (name) {\r\n    return window.cat.models[name];\r\n};\r\n\r\nvar toLowerCaseName = function (name) {\r\n    if (!name) {\r\n        return '';\r\n    }\r\n    return name.toLowerCase();\r\n};\r\n\r\n/**\r\n * Helper function to extract the base url from the current route and the parent endpoints\r\n * @param $location The $location service holding the current path + params\r\n * @param $stateParams The $stateParams service holding all params of the requested state\r\n * @param {string} [baseUrl]\r\n * @return {string} the extracted baseUrl which is either the provided one, or one, generated from the parentEndpointNames\r\n */\r\nvar getBaseUrl = function ($location, $stateParams, baseUrl) {\r\n    if (!_.isUndefined(baseUrl)) {\r\n        return baseUrl;\r\n    }\r\n\r\n    var path = $location.path();\r\n    if (_.isUndefined($stateParams.id)) {\r\n        return path;\r\n    }\r\n\r\n    return path.substring(0, path.lastIndexOf('/'));\r\n};\r\n\r\n/**\r\n * A helper function for list routes which applies a few optimizations and some auto configuration.\r\n * In the current state it handles 4 settings:\r\n * * templateUrl - Auto-generation of the correct templateUrl based on conventions and the config.name property\r\n * * controller - Auto-generation of the correct controller based on conventions and the config.name property\r\n * * reloadOnSearch - this property is set to false\r\n * * resolve - a object with a 'listData' property is returned which is resolved via the correct endpoint\r\n *\r\n * @param {Object} config the route config object which will be used to generate the actual route configuration\r\n * @return {{reloadOnSearch: boolean, controller: string, templateUrl: (string), resolve: {config: Object}}}\r\n */\r\nvar listRoute = function (config) {\r\n    var name = toLowerCaseName(config.name);\r\n\r\n    function getListDataPromise(catListDataLoadingService) {\r\n        return catListDataLoadingService.resolve(config.endpoint || name, config.defaultSort);\r\n    }\r\n\r\n    function getResolvedConfig($q, $stateParams, $location, catListDataLoadingService) {\r\n        var deferredConfig = $q.defer();\r\n        var resolvedConfig = {\r\n            name: config.name,\r\n            controller: config.controller || config.name + 'Controller',\r\n            baseUrl: getBaseUrl($location, $stateParams, config.baseUrl),\r\n            title: window.cat.util.pluralize(config.name),\r\n            searchProps: config.searchProps || window.cat.util.defaultListSearchProps,\r\n            listTemplateUrl: config.listTemplateUrl || (name + '/' + name + '-list.tpl.html')\r\n        };\r\n\r\n        getListDataPromise(catListDataLoadingService).then(\r\n            function (listData) {\r\n                resolvedConfig.listData = listData;\r\n                deferredConfig.resolve(resolvedConfig);\r\n            }\r\n        );\r\n\r\n        return deferredConfig.promise;\r\n    }\r\n\r\n    return {\r\n        url: config.url || '',\r\n        reloadOnSearch: false,\r\n        controller: 'CatBaseListController',\r\n        controllerAs: 'catBaseListController',\r\n        templateUrl: config.templateUrl || 'template/cat-base-list.tpl.html',\r\n        resolve: {\r\n            config: getResolvedConfig\r\n        }\r\n    };\r\n};\r\n\r\n/**\r\n * A helper function for detail routes which applies a few optimizations and some auto configuration.\r\n * The actual instantiated controller will be 'CatBaseDetailController' with a default templateUrl\r\n * 'template/cat-base-detail.tpl.html'. As the CatBaseDetailController expects a config object with several properties\r\n * (templateUrls, parents, detail, endpoint, etc.) this function also takes care of providing the correct 'resolve'\r\n * object which pre-loads all the necessary data.\r\n * @param {Object} config the route config object which will be used to generate the actual route configuration\r\n * @returns {{templateUrl: (string), controller: string, reloadOnSearch: (boolean), resolve: {config: (object)}}}\r\n */\r\nvar detailRoute = function (config) {\r\n    var endpointName, parentEndpointNames;\r\n\r\n    if (_.isString(config.endpoint)) {\r\n        endpointName = config.endpoint;\r\n    } else if (_.isObject(config.endpoint)) {\r\n        parentEndpointNames = config.endpoint.parents;\r\n        endpointName = config.endpoint.name;\r\n    } else {\r\n        endpointName = toLowerCaseName(config.name);\r\n    }\r\n\r\n    var Model = config.model || window.cat.util.defaultModelResolver(config.name);\r\n\r\n    var parentUrl = '';\r\n    var parentTemplateNamePrefix = '';\r\n\r\n\r\n    if (_.isArray(parentEndpointNames)) {\r\n        _.forEach(parentEndpointNames, function (parentEndpointName) {\r\n            parentUrl += parentEndpointName;\r\n            parentUrl += '/';\r\n\r\n            parentTemplateNamePrefix += parentEndpointName;\r\n            parentTemplateNamePrefix += '-';\r\n        });\r\n    }\r\n\r\n    var tabs;\r\n\r\n    var templateUrls = {\r\n        edit: parentUrl + endpointName + '/' + parentTemplateNamePrefix + endpointName + '-details-edit.tpl.html',\r\n        view: parentUrl + endpointName + '/' + parentTemplateNamePrefix + endpointName + '-details-view.tpl.html'\r\n    };\r\n\r\n    if (config.additionalViewTemplate === true) {\r\n        templateUrls.view = {\r\n            main: templateUrls.view,\r\n            additional: parentUrl + endpointName + '/' + parentTemplateNamePrefix + endpointName + '-additional-details-view.tpl.html'\r\n        };\r\n    } else if (config.additionalViewTemplate === 'tabs') {\r\n        templateUrls.view = {\r\n            main: templateUrls.view,\r\n            additional: 'template/cat-base-additional-details-tabs-view.tpl.html'\r\n        };\r\n        tabs = config.additionalViewTemplateTabs;\r\n    }\r\n\r\n    function getEndpoint($stateParams, catApiService) {\r\n        var endpoint = catApiService[endpointName];\r\n\r\n        if (_.isArray(parentEndpointNames)) {\r\n            _.forEach(parentEndpointNames, function (parentEndpointName, idx) {\r\n                var currentEndpoint;\r\n                if (idx === 0) {\r\n                    // root api endpoint\r\n                    currentEndpoint = catApiService[parentEndpointName];\r\n                } else {\r\n                    // child api endpoint\r\n                    currentEndpoint = endpoint[parentEndpointName];\r\n                }\r\n                endpoint = currentEndpoint.res($stateParams[parentEndpointName + 'Id']);\r\n            });\r\n\r\n            endpoint = endpoint[endpointName];\r\n        }\r\n\r\n        return endpoint;\r\n    }\r\n\r\n    function getDetailData($stateParams, $q, endpoint) {\r\n        var detailPromise;\r\n        var detailId = $stateParams.id;\r\n        if (detailId === 'new') {\r\n            detailPromise = $q.when(new Model());\r\n        } else {\r\n            detailPromise = endpoint.get(detailId);\r\n        }\r\n        return detailPromise;\r\n    }\r\n\r\n    function getConfig($location, $stateParams, $q, catApiService) {\r\n        var deferred = $q.defer();\r\n        var endpoint = getEndpoint($stateParams, catApiService);\r\n\r\n        var baseUrl = getBaseUrl($location, $stateParams, config.baseUrl);\r\n\r\n        var resolvedConfig = {\r\n            name: config.name,\r\n            controller: config.controller || config.name + 'DetailsController',\r\n            endpoint: endpoint,\r\n            Model: Model,\r\n            templateUrls: templateUrls,\r\n            tabs: tabs,\r\n            baseUrl: baseUrl\r\n        };\r\n\r\n\r\n        var detailPromise = getDetailData($stateParams, $q, endpoint);\r\n        detailPromise.then(function (data) {\r\n            resolvedConfig.detail = data;\r\n        });\r\n\r\n        var parentsPromise = getParentInfo($q, endpoint);\r\n        parentsPromise.then(function (parents) {\r\n            resolvedConfig.parents = parents;\r\n        });\r\n\r\n        $q.all([detailPromise, parentsPromise]).then(\r\n            function () {\r\n                deferred.resolve(resolvedConfig);\r\n            },\r\n            function (reason) {\r\n                deferred.reject(reason);\r\n            }\r\n        );\r\n\r\n        return deferred.promise;\r\n    }\r\n\r\n    function getParentInfo($q, endpoint) {\r\n        if (!_.isUndefined(endpoint) && !_.isUndefined(endpoint.parentInfo)) {\r\n            var deferred = $q.defer();\r\n            var parents = [];\r\n            endpoint.parentInfo().then(\r\n                function (parent) {\r\n                    parents.push(parent);\r\n                    getParentInfo($q, endpoint.parentEndpoint).then(\r\n                        function (response) {\r\n                            parents.push(response);\r\n                            parents = _.flatten(parents);\r\n                            deferred.resolve(parents);\r\n                        },\r\n                        function (error) {\r\n                            deferred.reject(error);\r\n                        }\r\n                    );\r\n                }, function (error) {\r\n                    deferred.reject(error);\r\n                });\r\n            return deferred.promise;\r\n        } else {\r\n            return $q.when([]);\r\n        }\r\n    }\r\n\r\n    return {\r\n        url: config.url || '/:id',\r\n        templateUrl: config.templateUrl || 'template/cat-base-detail.tpl.html',\r\n        controller: 'CatBaseDetailController',\r\n        reloadOnSearch: config.reloadOnSearch,\r\n        resolve: {\r\n            config: getConfig\r\n        }\r\n    };\r\n};\r\n\r\nwindow.cat.util.route = {\r\n    list: listRoute,\r\n    detail: detailRoute\r\n};"],"sourceRoot":"src/../"}